<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="無料タロット占い。詩韻Shionが3枚リーディングで今日の運勢を詩で届ける。恋愛・復縁・連絡時期も対応。"/>
  <title>【無料タロット】今日の運勢を詩で届ける｜詩韻Shion</title>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">
  
  <!-- External CSS -->
  <link rel="stylesheet" href="style.css"/>
  
  <!-- Open Graph -->
  <meta property="og:title" content="【無料タロット】今日の運勢を詩で届ける｜詩韻Shion"/>
  <meta property="og:description" content="3枚のカードをタップ。あなたの願いに響く詩が届きます。"/>
  <meta property="og:image" content="https://reverse-shion.github.io/ogp.jpg"/>
  <meta property="og:url" content="https://reverse-shion.github.io/"/>
  <meta property="og:type" content="website"/>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1 class="title">詩韻 Shion</h1>
      <p class="subtitle">言葉は祈りの構文 — タロットで“響き”を体験</p>
    </header>

    <!-- Intro -->
    <section class="intro">
      <p class="guide">目を閉じて、願いをイメージしてください。<br>恋愛・復縁・連絡時期、何でもOK。</p>
      <div class="cta-start">
        <button id="startBtn" class="btn-primary">無料占いを始める</button>
      </div>
    </section>

    <!-- Tarot Area (Hidden initially) -->
    <section id="tarotSection" class="tarot-section hidden">
      <div class="tarot-grid">
        <!-- Card 1 -->
        <div class="card-wrapper" data-index="0">
          <div class="card-back" onclick="flipCard(this)">
            <div class="card-inner">
              <div class="card-face card-back-face">
                <span class="label">① 現在</span>
                <p class="tap">タップでめくる</p>
              </div>
              <div class="card-face card-front-face"></div>
            </div>
          </div>
        </div>

        <!-- Card 2 -->
        <div class="card-wrapper" data-index="1">
          <div class="card-back" onclick="flipCard(this)">
            <div class="card-inner">
              <div class="card-face card-back-face">
                <span class="label">② 鍵</span>
                <p class="tap">タップでめくる</p>
              </div>
              <div class="card-face card-front-face"></div>
            </div>
          </div>
        </div>

        <!-- Card 3 -->
        <div class="card-wrapper" data-index="2">
          <div class="card-back" onclick="flipCard(this)">
            <div class="card-inner">
              <div class="card-face card-back-face">
                <span class="label">③ 進む道</span>
                <p class="tap">タップでめくる</p>
              </div>
              <div class="card-face card-front-face"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Result Display -->
      <div id="result" class="result hidden">
        <div class="result-item">
          <span class="icon">🪶</span>
          <h3>詩</h3>
          <p id="poem"></p>
        </div>
        <div class="result-item">
          <span class="icon">🎵</span>
          <h3>韻</h3>
          <p id="rhyme"></p>
        </div>
        <div class="result-item">
          <span class="icon">✨</span>
          <h3>祈</h3>
          <p id="prayer"></p>
        </div>
      </div>

      <!-- CTA After Result -->
      <div id="ctaAfter" class="cta-after hidden">
        <p class="next">もっと深く知りたい方は…</p>
        <div class="btn-group">
          <a href="https://line.me/R/ti/p/@yourline" target="_blank" class="btn-line">LINEで毎日1枚無料</a>
          <a href="https://www.tiktok.com/@your_tiktok" target="_blank" class="btn-tiktok">TikTokで恋愛鑑定予約</a>
          <a href="https://note.com/your_note/m/magazine" target="_blank" class="btn-note">詩韻思想 零〜結 無料公開</a>
        </div>
        <button id="restartBtn" class="btn-restart">もう一度占う</button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>&copy; 詩韻 Shion — 言葉で光を手渡す</p>
    </footer>
  </div>

  <!-- JavaScript -->
  <script>
    // Tarot Data (詩・韻・祈のセット)
    const tarotData = [
      {
        poem: "夜明け前の静寂に、君の名前が灯る。",
        rhyme: "響きは波となり、心の奥へ届く。",
        prayer: "どうか、その光を胸に抱きしめて。"
      },
      {
        poem: "涙は種となり、明日の花を育てる。",
        rhyme: "沈黙の奥で、希望が息を吹き返す。",
        prayer: "大丈夫。道はすでに開かれている。"
      },
      {
        poem: "風が運ぶのは、忘れていた勇気。",
        rhyme: "一歩踏み出すたび、世界が優しくなる。",
        prayer: "君の物語は、ここから始まる。"
      },
      {
        poem: "傷跡は地図。痛みは道しるべ。",
        rhyme: "過去は重しではなく、翼になる。",
        prayer: "飛べるよ。もう十分に強くなった。"
      },
      {
        poem: "連絡が来ない夜は、星が語りかけてる。",
        rhyme: "タイミングは宇宙が決める。君は信じるだけ。",
        prayer: "そのときが来るまで、静かに微笑んで。"
      },
      {
        poem: "復縁は“戻る”ことではなく、“新しく始める”こと。",
        rhyme: "二人の魂は、すでに繋がっている。",
        prayer: "言葉より先に、心が届く日が来る。"
      }
    ];

    let flippedCount = 0;
    const totalCards = 3;

    // Start Button
    document.getElementById('startBtn').addEventListener('click', () => {
      document.querySelector('.intro').classList.add('hidden');
      document.getElementById('tarotSection').classList.remove('hidden');
      flippedCount = 0;
      document.getElementById('result').classList.add('hidden');
      document.getElementById('ctaAfter').classList.add('hidden');
      resetCards();
    });

    // Flip Card
    window.flipCard = function(card) {
      if (card.classList.contains('flipped')) return;
      
      card.classList.add('flipped');
      flippedCount++;

      // Random data
      const randomSet = tarotData[Math.floor(Math.random() * tarotData.length)];
      const index = card.parentElement.dataset.index;
      const front = card.querySelector('.card-front-face');

      setTimeout(() => {
        front.innerHTML = `
          <div class="result-mini">
            <p><strong>${index == 0 ? '詩' : index == 1 ? '韻' : '祈'}</strong></p>
            <p>${index == 0 ? randomSet.poem : index == 1 ? randomSet.rhyme : randomSet.prayer}</p>
          </div>
        `;
      }, 300);

      if (flippedCount === totalCards) {
        showFullResult();
      }
    };

    // Show Full Result
    function showFullResult() {
      const results = document.querySelectorAll('.card-front-face .result-mini p:last-child');
      const poem = results[0].textContent;
      const rhyme = results[1].textContent;
      const prayer = results[2].textContent;

      document.getElementById('poem').textContent = poem;
      document.getElementById('rhyme').textContent = rhyme;
      document.getElementById('prayer').textContent = prayer;

      setTimeout(() => {
        document.getElementById('result').classList.remove('hidden');
        document.getElementById('ctaAfter').classList.remove('hidden');
      }, 800);
    }

    // Reset Cards
    function resetCards() {
      document.querySelectorAll('.card-back').forEach(card => {
        card.classList.remove('flipped');
        card.querySelector('.card-front-face').innerHTML = '';
      });
    }

    // Restart
    document.getElementById('restartBtn').addEventListener('click', () => {
      document.getElementById('result').classList.add('hidden');
      document.getElementById('ctaAfter').classList.add('hidden');
      document.querySelector('.tarot-section').scrollIntoView({ behavior: 'smooth' });
      setTimeout(() => {
        resetCards();
        flippedCount = 0;
      }, 500);
    });
  </script>
</body>
</html>
