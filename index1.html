<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="神秘の無料タロット占い。大アルカナ22枚で3枚リーディング。詩韻Shionがあなたの魂を詩・韻・祈で導く。"/>
  <title>【神秘タロット】大アルカナで魂の運勢を詩で届ける｜詩韻Shion</title>

  <!-- Google Fonts (神秘フォント追加) -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Cormorant+Garamond:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet">

  <!-- External CSS -->
  <link rel="stylesheet" href="/style1.css?v=3">

  <!-- Open Graph -->
  <meta property="og:title" content="【神秘タロット】大アルカナで魂の運勢を詩で届ける｜詩韻Shion"/>
  <meta property="og:description" content="大アルカナ22枚から3枚をタップ。あなたの魂に響く詩・韻・祈が届きます。"/>
  <meta property="og:image" content="https://reverse-shion.github.io/assets/ogp.jpg"/>
  <meta property="og:url" content="https://reverse-shion.github.io/"/>
  <meta property="og:type" content="website"/>
</head>
<body>

  <!-- 🌌 神秘のヴェールヒーロー（霧→光→星の神殿→CTA） -->
  <section class="hero-temple" aria-label="神秘のヴェールの門">
    <!-- 背景レイヤー -->
    <div class="hero-layer hero-fog" aria-hidden="true"></div>
    <div class="hero-layer hero-door" aria-hidden="true"></div>
    <div class="hero-layer hero-hall" aria-hidden="true"></div>

    <!-- 光のヴェール（強化） -->
    <div class="hero-veil" aria-hidden="true"></div>
    <div class="hero-glow" aria-hidden="true"></div>

    <!-- コピー＆CTA（神秘的に変更） -->
    <div class="hero-copy">
      <h1>Re:Verse Shion — The Veil of Mysteries</h1>
      <p>ヴェールが開く。魂の言葉が目覚め、あなたの“神秘の韻”へ導く。</p>
      <button id="heroStartBtn" class="btn-primary">神秘の占いを始める</button>
    </div>

    <!-- BGM（神秘的なアンビエント） -->
    <audio id="bgm" src="/assets/sound/temple-ambient.mp3" preload="auto" loop playsinline></audio>
  </section>

  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1 class="title">詩韻 Shion</h1>
      <p class="subtitle">言葉は魂の構文 — 大アルカナタロットで“神秘の響き”を体験</p>
    </header>

    <!-- Intro -->
    <section class="intro">
      <p class="guide">目を閉じて、魂の願いをイメージしてください。<br>恋愛・復縁・運命の時期、何でもOK。</p>
      <div class="cta-start">
        <button id="startBtn" class="btn-primary">神秘の占いを始める</button>
      </div>
    </section>

    <!-- Ritual Overlay（神秘的に） -->
    <div id="ritual" class="ritual hide" aria-hidden="true">
      <p class="chant line">言の葉は鍵、星の霧は道しるべ。</p>
      <p class="chant line">いま、あなたの魂に“神秘の韻”を与えよう。</p>
      <p class="chant line">深く息をして――タロットが魂を語る。</p>
    </div>

    <!-- Tarot Area -->
    <section id="tarotSection" class="tarot-section hidden" aria-live="polite">
      <div class="tarot-grid">
        <!-- Card 1 (浮遊エフェクト追加) -->
        <div class="card-wrapper" data-index="0">
          <div class="card-back" onclick="flipCard(this)" role="button" tabindex="0" aria-label="現在のカードをめくる">
            <div class="card-inner">
              <div class="card-face card-back-face">
                <span class="label">① 現在</span>
                <p class="tap">タップでめくる</p>
              </div>
              <div class="card-face card-front-face">
                <img class="card-image" src="" alt="">
              </div>
            </div>
          </div>
        </div>
        <!-- Card 2 -->
        <div class="card-wrapper" data-index="1">
          <div class="card-back" onclick="flipCard(this)" role="button" tabindex="0" aria-label="鍵のカードをめくる">
            <div class="card-inner">
              <div class="card-face card-back-face">
                <span class="label">② 鍵</span>
                <p class="tap">タップでめくる</p>
              </div>
              <div class="card-face card-front-face">
                <img class="card-image" src="" alt="">
              </div>
            </div>
          </div>
        </div>
        <!-- Card 3 -->
        <div class="card-wrapper" data-index="2">
          <div class="card-back" onclick="flipCard(this)" role="button" tabindex="0" aria-label="進む道のカードをめくる">
            <div class="card-inner">
              <div class="card-face card-back-face">
                <span class="label">③ 進む道</span>
                <p class="tap">タップでめくる</p>
              </div>
              <div class="card-face card-front-face">
                <img class="card-image" src="" alt="">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Result Display -->
      <div id="result" class="result hidden">
        <div class="result-item">
          <span class="icon" aria-hidden="true">羽</span>
          <h3 id="poemTitle">詩 — </h3>
          <p id="poem"></p>
        </div>
        <div class="result-item">
          <span class="icon" aria-hidden="true">音符</span>
          <h3 id="rhymeTitle">韻 — </h3>
          <p id="rhyme"></p>
        </div>
        <div class="result-item">
          <span class="icon" aria-hidden="true">輝き</span>
          <h3 id="prayerTitle">祈 — </h3>
          <p id="prayer"></p>
        </div>
      </div>

      <!-- CTA After Result -->
      <div id="ctaAfter" class="cta-after hidden">
        <p class="next">もっと深く魂を知りたい方は…詳しくは個人鑑定へ</p>
        <div class="btn-group">
          <a href="https://lin.ee/9RBqOl4" target="_blank" class="btn-line" rel="noopener">LINEで個人鑑定予約</a>
          <a href="https://www.tiktok.com/@your_tiktok" target="_blank" class="btn-tiktok" rel="noopener">TikTok配信で占い（恋愛/復縁/連絡時期）</a>
          <a href="https://note.com/your_note/m/magazine" target="_blank" class="btn-note" rel="noopener">詩韻思想 零〜結 無料公開</a>
        </div>
        <button id="restartBtn" class="btn-restart">もう一度占う</button>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>&copy; 詩韻 Shion — 魂に光を手渡す</p>
    </footer>
  </div>

  <!-- 効果音 -->
  <audio id="flipSound" src="https://freesound.org/data/previews/351/351408_5665338-lq.mp3" preload="auto"></audio>

  <!-- JavaScript (粒子エフェクト追加) -->
  <script>
    /* ヒーロー開扉アニメ (霧追加) */
    window.addEventListener('load', () => {
      const hero = document.querySelector('.hero-temple');
      if (!hero) return;
      hero.classList.add('is-fog');
      setTimeout(() => hero.classList.add('is-opening'), 800);
      setTimeout(() => hero.classList.add('is-revealed'), 1900);
      setTimeout(() => hero.classList.add('is-cta'), 3000);
    });

    /* ボタン＆BGM起動（iOS対応） */
    const heroStartBtn = document.getElementById('heroStartBtn');
    const startBtn = document.getElementById('startBtn');
    const bgm = document.getElementById('bgm');

    function safePlay(audio){
      if (!audio) return;
      const p = audio.play();
      if (p && typeof p.catch === 'function') p.catch(()=>{/* ユーザー操作待ち */});
    }

    if (heroStartBtn) {
      heroStartBtn.addEventListener('click', () => {
        safePlay(bgm);
        document.querySelector('.intro')?.scrollIntoView({ behavior: 'smooth' });
      });
    }

    if (startBtn) {
      startBtn.addEventListener('click', beginReading);
    }

    /* タロット本体 (ベース同じ) */
    // ... (元のtarotData, beginReading, seedShuffle, flipCard, showFullResult, resetCards をそのまま使用)
    // (省略: 元のJSをコピーして使用してください)

    /* 追加: 粒子エフェクト (Canvasで星の粒子) */
    const canvas = document.createElement('canvas');
    canvas.classList.add('particle-canvas');
    document.body.appendChild(canvas);
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    const particles = [];
    for (let i = 0; i < 100; i++) {
      particles.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        radius: Math.random() * 2 + 1,
        speed: Math.random() * 0.5 + 0.1,
      });
    }

    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
        ctx.fill();
        p.y -= p.speed;
        if (p.y < 0) p.y = canvas.height;
      });
      requestAnimationFrame(animateParticles);
    }
    animateParticles();
  </script>
</body>
</html>
