<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DiCo | CYBER DISCO FLOOR</title>

  <style>
    :root{
      --bg0:#06060a;
      --bg1:#07070c;
      --panel: rgba(255,255,255,0.06);
      --panel2: rgba(255,255,255,0.10);
      --text: rgba(245,245,242,0.92);
      --muted: rgba(245,245,242,0.68);
      --line: rgba(255,255,255,0.16);

      --gold: rgba(183,161,115,0.95);
      --goldSoft: rgba(183,161,115,0.25);

      --cyan: rgba(120, 255, 235, 0.95);
      --cyanSoft: rgba(120, 255, 235, 0.25);

      --violet: rgba(186, 120, 255, 0.95);
      --violetSoft: rgba(186, 120, 255, 0.25);

      --hotpink: rgba(255, 105, 220, 0.90);
      --hotpinkSoft: rgba(255, 105, 220, 0.22);

      --shadow: 0 26px 80px rgba(0,0,0,0.55);
      --shadow2: 0 14px 42px rgba(0,0,0,0.40);

      --r: 18px;
      --maxw: 1100px;
    }

    *{ box-sizing: border-box; }
    html, body{ height: 100%; }
    body{
      margin:0;
      color: var(--text);
      background:
        radial-gradient(circle at 18% 18%, rgba(186,120,255,0.22), transparent 55%),
        radial-gradient(circle at 78% 28%, rgba(120,255,235,0.18), transparent 56%),
        radial-gradient(circle at 68% 78%, rgba(255,105,220,0.14), transparent 55%),
        radial-gradient(circle at 22% 82%, rgba(183,161,115,0.12), transparent 58%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      font-family: system-ui, -apple-system, "Hiragino Sans", "Noto Sans JP", "Yu Gothic", "Meiryo", sans-serif;
      overflow-x:hidden;
    }

    /* --- moving neon haze (FF7 casino vibe but luxe) --- */
    body::before{
      content:"";
      position: fixed; inset: -40vh -40vw;
      pointer-events:none;
      z-index:0;
      background:
        conic-gradient(from 180deg,
          rgba(186,120,255,0.10),
          rgba(120,255,235,0.10),
          rgba(255,105,220,0.10),
          rgba(183,161,115,0.08),
          rgba(186,120,255,0.10)
        );
      filter: blur(34px);
      opacity: 0.55;
      animation: haze 14s linear infinite;
    }
    @keyframes haze{
      0% { transform: rotate(0deg) scale(1.05); }
      50%{ transform: rotate(180deg) scale(1.12); }
      100%{ transform: rotate(360deg) scale(1.05); }
    }

    /* --- subtle scanlines (not horror) --- */
    body::after{
      content:"";
      position: fixed; inset:0;
      pointer-events:none;
      z-index:1;
      background:
        repeating-linear-gradient(
          180deg,
          rgba(255,255,255,0.03) 0,
          rgba(255,255,255,0.03) 1px,
          rgba(0,0,0,0.00) 2px,
          rgba(0,0,0,0.00) 5px
        );
      opacity: 0.15;
      mix-blend-mode: soft-light;
    }

    header{
      position: sticky;
      top:0;
      z-index: 40;
      border-bottom: 1px solid rgba(255,255,255,0.10);
      backdrop-filter: blur(16px);
      background: linear-gradient(180deg, rgba(10,10,16,0.75), rgba(10,10,16,0.45));
    }

    .topbar{
      width: min(var(--maxw), calc(100% - 2.2rem));
      margin: 0 auto;
      padding: 0.95rem 0;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 1rem;
      position: relative;
      z-index:2;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap: 0.18rem;
      user-select:none;
    }
    .brand .kicker{
      font-size: .78rem;
      letter-spacing: .22em;
      color: rgba(245,245,242,0.68);
      text-transform: uppercase;
    }
    .brand .title{
      display:flex;
      align-items:baseline;
      gap:.55rem;
      letter-spacing: .12em;
      font-weight: 900;
      line-height:1;
    }
    .brand .title strong{
      font-size: 1.12rem;
    }
    .brand .title span{
      font-size: .86rem;
      color: rgba(245,245,242,0.70);
      font-weight: 700;
      letter-spacing: .18em;
    }

    .nav{
      display:flex;
      align-items:center;
      gap: .6rem;
      flex-wrap: wrap;
      justify-content:flex-end;
    }
    .chip{
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color: rgba(245,245,242,0.86);
      border-radius: 999px;
      padding: .45rem .70rem;
      font-size: .82rem;
      letter-spacing: .10em;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:.45rem;
      transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease;
      box-shadow: 0 10px 34px rgba(0,0,0,0.25);
    }
    .chip:hover, .chip:focus-visible{
      transform: translateY(-1px);
      border-color: rgba(183,161,115,0.45);
      background: rgba(255,255,255,0.10);
      outline:none;
      box-shadow: 0 16px 46px rgba(0,0,0,0.35);
    }

    main{
      width: min(var(--maxw), calc(100% - 2.2rem));
      margin: 0 auto;
      padding: 1.4rem 0 4rem;
      position: relative;
      z-index: 10;
    }

    /* --- HERO STAGE --- */
    .stage{
      position:relative;
      border-radius: calc(var(--r) + 4px);
      overflow:hidden;
      border: 1px solid rgba(255,255,255,0.14);
      background:
        linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0.30));
      box-shadow: var(--shadow);
      isolation: isolate;
      min-height: clamp(460px, 70vh, 720px);
    }

    /* gold & neon frame */
    .stage::before{
      content:"";
      position:absolute; inset: 10px;
      border-radius: calc(var(--r) + 0px);
      border: 1px solid rgba(183,161,115,0.25);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.08),
        0 0 0 1px rgba(255,255,255,0.06);
      pointer-events:none;
      z-index: 2;
    }
    /* moving beam sweep */
    .stage::after{
      content:"";
      position:absolute; inset:-20%;
      background: linear-gradient(120deg,
        rgba(255,255,255,0.00) 0%,
        rgba(120,255,235,0.14) 30%,
        rgba(186,120,255,0.14) 50%,
        rgba(255,105,220,0.12) 70%,
        rgba(255,255,255,0.00) 100%
      );
      transform: translateX(-35%) rotate(8deg);
      filter: blur(10px);
      opacity: 0.55;
      animation: sweep 6.8s ease-in-out infinite;
      pointer-events:none;
      z-index: 1;
      mix-blend-mode: screen;
    }
    @keyframes sweep{
      0%   { transform: translateX(-55%) rotate(8deg); opacity: .35; }
      50%  { transform: translateX(30%) rotate(8deg); opacity: .60; }
      100% { transform: translateX(-55%) rotate(8deg); opacity: .35; }
    }

    .stageMedia{
      position:absolute; inset:0;
      z-index:0;
      background: radial-gradient(circle at 50% 40%, rgba(255,255,255,0.06), rgba(0,0,0,0.55));
    }

  .stageVideo{
  position:absolute;
  top:50%;
  left:50%;
  width:177.77vh; /* ç¸¦å‹•ç”»ç”¨ */
  height:100vh;
  transform: translate(-50%, -50%) scale(1.02);
  pointer-events:none;
  filter: brightness(.86) contrast(1.05) saturate(1.02);
}
    .stageMedia{
  position:absolute;
  inset:0;
  overflow:hidden;
}

    /* gradient for readability */
    .stageShade{
      position:absolute; inset:0;
      background:
        radial-gradient(circle at 50% 20%, rgba(0,0,0,0.15), rgba(0,0,0,0.78)),
        linear-gradient(to top, rgba(0,0,0,0.86), rgba(0,0,0,0.10));
      z-index: 1;
    }

    .stageContent{
      position:relative;
      z-index: 3;
      display:grid;
      align-content:end;
      gap: 1.0rem;
      padding: 2.2rem 1.4rem 1.6rem;
      min-height: clamp(460px, 70vh, 720px);
    }

    .stageTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 1rem;
      margin-bottom: auto;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:.55rem;
      padding: .42rem .70rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      box-shadow: 0 16px 46px rgba(0,0,0,0.30);
      letter-spacing: .18em;
      font-size: .74rem;
      text-transform: uppercase;
      user-select:none;
      white-space:nowrap;
    }
    .badge .dot{
      width:8px; height:8px; border-radius:999px;
      background: rgba(120,255,235,0.70);
      box-shadow: 0 0 0 0 rgba(120,255,235,0.25);
      animation: pulse 1.6s ease-in-out infinite;
    }
    @keyframes pulse{
      0%{ box-shadow: 0 0 0 0 rgba(120,255,235,0.25); }
      60%{ box-shadow: 0 0 0 10px rgba(120,255,235,0.00); }
      100%{ box-shadow: 0 0 0 0 rgba(120,255,235,0.00); }
    }

    .stageTitle{
      display:grid;
      gap:.45rem;
      max-width: 72ch;
    }
    .stageTitle h1{
      margin:0;
      font-size: clamp(2.0rem, 4.8vw, 3.4rem);
      letter-spacing: .10em;
      font-weight: 950;
      line-height: 1.05;
    }
    .stageTitle p{
      margin:0;
      color: rgba(245,245,242,0.78);
      letter-spacing: .08em;
      line-height: 1.6;
      max-width: 62ch;
    }

    .stageActions{
      display:flex;
      gap:.7rem;
      flex-wrap: wrap;
      align-items:center;
      margin-top: .25rem;
    }

    .btn{
      appearance:none;
      border:none;
      cursor:pointer;
      text-decoration:none;
      color: rgba(245,245,242,0.92);
      padding: .78rem 1.00rem;
      border-radius: 14px;
      letter-spacing: .12em;
      font-weight: 850;
      font-size: .92rem;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.14);
      box-shadow: 0 18px 54px rgba(0,0,0,0.35);
      transition: transform .18s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease;
      display:inline-flex;
      align-items:center;
      gap:.55rem;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover, .btn:focus-visible{
      transform: translateY(-2px);
      background: rgba(255,255,255,0.12);
      border-color: rgba(183,161,115,0.35);
      outline:none;
      box-shadow: 0 26px 72px rgba(0,0,0,0.44);
    }
    .btn.primary{
      background: linear-gradient(135deg, rgba(120,255,235,0.16), rgba(186,120,255,0.16));
      border-color: rgba(120,255,235,0.30);
    }
    .btn.primary:hover, .btn.primary:focus-visible{
      border-color: rgba(120,255,235,0.55);
    }
    .btn.gold{
      background: linear-gradient(135deg, rgba(183,161,115,0.22), rgba(255,255,255,0.06));
      border-color: rgba(183,161,115,0.40);
    }

    /* --- Ticker (casino sign vibe) --- */
    .tickerWrap{
      margin-top: .8rem;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.30);
      overflow:hidden;
      box-shadow: var(--shadow2);
    }
    .ticker{
      display:flex;
      gap: 1.4rem;
      padding: .55rem 0;
      white-space: nowrap;
      will-change: transform;
      animation: ticker 16s linear infinite;
      font-weight: 800;
      letter-spacing: .20em;
      text-transform: uppercase;
      font-size: .78rem;
      color: rgba(245,245,242,0.70);
    }
    .ticker span{
      padding-left: 1.2rem;
      border-left: 1px solid rgba(255,255,255,0.12);
    }
    .ticker em{
      font-style: normal;
      color: rgba(183,161,115,0.92);
      letter-spacing: .26em;
    }
    @keyframes ticker{
      0%{ transform: translateX(0); }
      100%{ transform: translateX(-50%); }
    }

    /* --- Sections --- */
    .grid{
      margin-top: 1.25rem;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 1rem;
      align-items: start;
    }

    .panel{
      border-radius: calc(var(--r) + 2px);
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.06);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow2);
      overflow:hidden;
      position:relative;
    }
    .panel::before{
      content:"";
      position:absolute; inset:0;
      pointer-events:none;
      background:
        radial-gradient(circle at 22% 18%, rgba(120,255,235,0.10), transparent 55%),
        radial-gradient(circle at 72% 28%, rgba(186,120,255,0.10), transparent 56%),
        radial-gradient(circle at 70% 78%, rgba(255,105,220,0.08), transparent 55%);
      opacity: .70;
      mix-blend-mode: screen;
    }

    .panelHead{
      padding: 1.0rem 1.0rem .75rem;
      border-bottom: 1px solid rgba(255,255,255,0.10);
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap: .8rem;
      position:relative;
      z-index:2;
    }
    .panelHead h2{
      margin:0;
      font-size: .92rem;
      letter-spacing: .22em;
      text-transform: uppercase;
      font-weight: 950;
    }
    .panelHead .sub{
      font-size: .80rem;
      color: rgba(245,245,242,0.62);
      letter-spacing: .12em;
      white-space:nowrap;
    }

    .panelBody{
      padding: 1.0rem;
      position:relative;
      z-index:2;
    }

    /* --- Arcade Cards --- */
    .arcade{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: .85rem;
    }
    .card{
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.22);
      padding: .95rem .95rem;
      box-shadow: 0 18px 52px rgba(0,0,0,0.35);
      transition: transform .18s ease, border-color .18s ease, background .18s ease, box-shadow .18s ease;
      cursor: pointer;
      position:relative;
      overflow:hidden;
      user-select:none;
    }
    .card:hover, .card:focus-visible{
      transform: translateY(-2px);
      border-color: rgba(120,255,235,0.40);
      background: rgba(0,0,0,0.28);
      outline:none;
      box-shadow: 0 26px 74px rgba(0,0,0,0.44);
    }

    .card::after{
      content:"";
      position:absolute; inset:-20%;
      background: linear-gradient(120deg,
        rgba(255,255,255,0.00) 0%,
        rgba(120,255,235,0.12) 40%,
        rgba(186,120,255,0.12) 55%,
        rgba(255,105,220,0.10) 70%,
        rgba(255,255,255,0.00) 100%
      );
      transform: translateX(-65%) rotate(8deg);
      filter: blur(8px);
      opacity: 0.0;
      transition: opacity .18s ease;
      mix-blend-mode: screen;
      pointer-events:none;
    }
    .card:hover::after{ opacity: .70; }

    .cardTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:.8rem;
    }

    .cardTitle{
      font-weight: 950;
      letter-spacing: .14em;
    }
    .cardTag{
      font-size: .72rem;
      letter-spacing:.18em;
      text-transform: uppercase;
      padding: .25rem .50rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color: rgba(245,245,242,0.78);
      white-space:nowrap;
    }
    .cardDesc{
      margin: .55rem 0 0;
      color: rgba(245,245,242,0.70);
      font-size: .88rem;
      line-height: 1.55;
      letter-spacing: .04em;
    }

    /* --- Scoreboard --- */
    .score{
      display:grid;
      gap:.65rem;
    }
    .scoreRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:.8rem;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(0,0,0,0.22);
      padding: .72rem .80rem;
    }
    .scoreRow strong{
      letter-spacing:.16em;
    }
    .scoreRow span{
      font-size: .82rem;
      color: rgba(245,245,242,0.72);
      letter-spacing:.10em;
      white-space:nowrap;
    }

    /* --- Footer hint --- */
    .hint{
      margin-top: .8rem;
      color: rgba(245,245,242,0.62);
      font-size: .86rem;
      letter-spacing:.04em;
      line-height: 1.7;
    }
    .hint b{
      color: rgba(183,161,115,0.92);
      letter-spacing:.12em;
    }

    /* --- Floating DiCo chat button --- */
    .dicoFab{
      position: fixed;
      right: 16px;
      bottom: 16px;
      z-index: 90;
      display:flex;
      align-items:center;
      gap: .55rem;
    }
    .fabBtn{
      width: 54px; height: 54px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(14px);
      box-shadow: 0 22px 70px rgba(0,0,0,0.55);
      cursor: pointer;
      position: relative;
      overflow:hidden;
    }
    .fabBtn::before{
      content:"";
      position:absolute; inset:-20%;
      background: radial-gradient(circle at 30% 30%, rgba(120,255,235,0.22), transparent 55%),
                  radial-gradient(circle at 70% 40%, rgba(186,120,255,0.22), transparent 55%),
                  radial-gradient(circle at 60% 70%, rgba(255,105,220,0.18), transparent 55%);
      filter: blur(8px);
      opacity: .9;
    }
    .fabBtn::after{
      content:"Di";
      position:absolute; inset:0;
      display:grid; place-items:center;
      font-weight: 950;
      letter-spacing:.14em;
      color: rgba(245,245,242,0.92);
      text-shadow: 0 0 18px rgba(120,255,235,0.24);
    }
    .fabBtn:hover{ transform: translateY(-1px); }

    .bubble{
      max-width: 290px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.45);
      backdrop-filter: blur(14px);
      box-shadow: 0 22px 70px rgba(0,0,0,0.55);
      padding: .70rem .80rem;
      color: rgba(245,245,242,0.86);
      letter-spacing:.04em;
      line-height: 1.55;
      display:none;
      transform: translateY(6px);
      opacity: 0;
      transition: opacity .18s ease, transform .18s ease;
    }
    .bubble.show{
      display:block;
      opacity: 1;
      transform: translateY(0);
    }
    .bubble .small{
      display:block;
      margin-top: .35rem;
      color: rgba(245,245,242,0.62);
      font-size: .80rem;
      letter-spacing:.10em;
    }

    /* --- Modal (game shell / video settings) --- */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.74);
      backdrop-filter: blur(8px);
      z-index: 120;
      display:none;
      place-items:center;
      padding: 16px;
    }
    .modalOverlay.open{ display:grid; }

    .modal{
      width: min(980px, 100%);
      border-radius: calc(var(--r) + 6px);
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(10,10,16,0.72);
      box-shadow: 0 40px 140px rgba(0,0,0,0.70);
      overflow:hidden;
      position:relative;
    }
    .modal::before{
      content:"";
      position:absolute; inset:0;
      pointer-events:none;
      background:
        radial-gradient(circle at 18% 20%, rgba(120,255,235,0.14), transparent 60%),
        radial-gradient(circle at 78% 25%, rgba(186,120,255,0.14), transparent 62%),
        radial-gradient(circle at 62% 82%, rgba(255,105,220,0.10), transparent 62%);
      mix-blend-mode: screen;
      opacity: .8;
    }

    .modalHead{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 1rem;
      padding: 1rem 1rem;
      border-bottom: 1px solid rgba(255,255,255,0.10);
      position:relative;
      z-index:2;
    }
    .modalHead strong{
      letter-spacing:.18em;
      text-transform: uppercase;
      font-weight: 950;
    }
    .modalClose{
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.08);
      color: rgba(245,245,242,0.88);
      border-radius: 14px;
      padding: .55rem .75rem;
      cursor:pointer;
      letter-spacing:.16em;
      font-weight: 850;
    }
    .modalBody{
      padding: 1rem;
      position:relative;
      z-index:2;
    }

    .gameShell{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(0,0,0,0.28);
      padding: 1rem;
      min-height: 360px;
      display:grid;
      place-items:center;
    }
    .gameShell p{
      margin:0;
      text-align:center;
      color: rgba(245,245,242,0.78);
      letter-spacing:.08em;
      line-height:1.7;
      max-width: 60ch;
    }

    .mini{
      margin-top: .75rem;
      display:flex;
      justify-content:center;
      gap: .55rem;
      flex-wrap:wrap;
    }

    .pill{
      border-radius: 999px;
      padding: .42rem .62rem;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color: rgba(245,245,242,0.78);
      font-size: .78rem;
      letter-spacing:.14em;
      text-transform: uppercase;
    }

    /* responsive */
    @media (max-width: 960px){
      .grid{ grid-template-columns: 1fr; }
      .arcade{ grid-template-columns: 1fr; }
      .ticker{ animation-duration: 18s; }
    }

    @media (prefers-reduced-motion: reduce){
      *{ animation:none !important; transition:none !important; }
      body::before{ display:none !important; }
    }
  </style>
</head>

<body>
  <header>
    <div class="topbar">
      <div class="brand" aria-label="DiCo Cyber Disco">
        <div class="kicker">TAROT BREAKER / DiCo Zone</div>
        <div class="title"><strong>CYBER DISCO FLOOR</strong> <span>DiCo</span></div>
      </div>

      <nav class="nav" aria-label="Quick nav">
        <a class="chip" href="#stage">STAGE</a>
        <a class="chip" href="#play">PLAY ZONE</a>
        <a class="chip" href="#score">SCORE</a>
        <a class="chip" href="campus.html">RETURN</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO STAGE -->
    <section class="stage" id="stage" aria-label="DiCo Stage">
      <div class="stageMedia" aria-hidden="true"></div>

      <!-- video (autoplay muted loop) -->
      <iframe
  class="stageVideo"
  src="https://www.youtube.com/embed/e6qIEx85fDk?autoplay=1&mute=1&loop=1&playlist=e6qIEx85fDk"
  frameborder="0"
  allow="autoplay"
  allowfullscreen>
</iframe>

      <div class="stageShade" aria-hidden="true"></div>

      <div class="stageContent">
        <div class="stageTop">
          <div class="badge"><span class="dot" aria-hidden="true"></span> LIVE MODE</div>
          <div class="badge" style="border-color: rgba(183,161,115,0.30); background: rgba(183,161,115,0.10);">
            <span style="width:8px;height:8px;border-radius:999px;background:rgba(183,161,115,0.85);" aria-hidden="true"></span>
            GOLD SAUCER VIBE
          </div>
        </div>

        <div class="stageTitle">
          <h1>DiCo / Night Bright.</h1>
          <p>
            çœ©ã—ã„ã®ã«ã€è»½ã„ã€‚è»½ã„ã®ã«ã€æ®‹ã‚‹ã€‚<br>
            ã“ã“ã¯â€œéŠã³â€ã§æœªæ¥ã‚’æŸ”ã‚‰ã‹ãã™ã‚‹ãƒ•ãƒ­ã‚¢ã€‚
          </p>

          <div class="stageActions">
            <button class="btn primary" id="btnPlayNow" type="button">â–¶ PLAY ZONEã¸</button>
            <button class="btn gold" id="btnOpenGame" type="button">ğŸ® ã„ã¾éŠã¶ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰</button>
            <button class="btn" id="btnToggleVideo" type="button">ğŸ¥ å‹•ç”»ï¼šON/OFF</button>
          </div>

          <div class="tickerWrap" aria-label="Neon ticker">
            <div class="ticker" aria-hidden="true" id="ticker">
              <span><em>DiDiDi</em> â€” tap / flip / dance</span>
              <span>not only â€œcorrectâ€ is future</span>
              <span><em>PLAY</em> makes you breathe</span>
              <span>score = resonance</span>
              <span><em>DiDiDi</em> â€” tap / flip / dance</span>
              <span>not only â€œcorrectâ€ is future</span>
              <span><em>PLAY</em> makes you breathe</span>
              <span>score = resonance</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GRID -->
    <section class="grid" aria-label="Play Zone and Score">
      <!-- PLAY ZONE -->
      <div class="panel" id="play" aria-label="Play Zone">
        <div class="panelHead">
          <h2>PLAY ZONE</h2>
          <div class="sub">tap & loop / bright arcade</div>
        </div>
        <div class="panelBody">
          <div class="arcade">
            <div class="card" tabindex="0" role="button" data-game="Re:Flip">
              <div class="cardTop">
                <div class="cardTitle">Re:Flip</div>
                <div class="cardTag">PUZZLE</div>
              </div>
              <p class="cardDesc">
                ã‚«ãƒ¼ãƒ‰ã‚’åè»¢ã—ã¦æ•´ãˆã‚‹ã€‚<br>
                ã§ã‚‚â€œå…¨éƒ¨æ­£ã—ã„â€ãŒå‹ã¡ã¨ã¯é™ã‚‰ãªã„ã€‚
              </p>
            </div>

            <div class="card" tabindex="0" role="button" data-game="DiDi Beat">
              <div class="cardTop">
                <div class="cardTitle">DiDi Beat</div>
                <div class="cardTag">RHYTHM</div>
              </div>
              <p class="cardDesc">
                ãƒ‡ã‚£ãƒ‡ã‚£ãƒ‡ã‚£ã§ã‚¿ãƒƒãƒ—ã€‚<br>
                ãƒ“ãƒ¼ãƒˆãŒâ€œè¿·ã„â€ã‚’è¸Šã‚Šã«å¤‰ãˆã‚‹ã€‚
              </p>
            </div>

            <div class="card" tabindex="0" role="button" data-game="Etera Escape">
              <div class="cardTop">
                <div class="cardTitle">Etera Escape</div>
                <div class="cardTag">RUN</div>
              </div>
              <p class="cardDesc">
                æœ€é©åŒ–ã‹ã‚‰é€ƒã’ã‚ã€‚<br>
                é€Ÿã„ã»ã©ã€æ­£ã—ã•ãŒè¿½ã£ã¦ãã‚‹ã€‚
              </p>
            </div>

            <div class="card" tabindex="0" role="button" data-game="Lucky Draw">
              <div class="cardTop">
                <div class="cardTitle">Lucky Draw</div>
                <div class="cardTag">CASINO</div>
              </div>
              <p class="cardDesc">
                1æšå¼•ãã€‚çµæœã¯å›ºå®šã˜ã‚ƒãªã„ã€‚<br>
                â€œèª­ã‚€â€ã˜ã‚ƒãªãâ€œé¸ã¶â€ãŸã‚ã«å¼•ãã€‚
              </p>
            </div>
          </div>

          <div class="hint">
            <b>DiCo</b>ï¼šã€Œã­ã‡ã€ç¬‘ã£ã¦ã€‚é‡ã„ã®ã¯ã€ã‚ã¨ã§ã„ã„ã€‚ã€<br>
            â€»ã‚²ãƒ¼ãƒ ã¯ã“ã®UIã« â€œå·®ã—è¾¼ã¿å¼â€ ã§å®Ÿè£…ã§ãã‚‹è¨­è¨ˆï¼ˆæ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§å®Ÿè£…ã™ã‚‹ï¼‰
          </div>
        </div>
      </div>

      <!-- SCORE -->
      <div class="panel" id="score" aria-label="Scoreboard">
        <div class="panelHead">
          <h2>SCORE</h2>
          <div class="sub">resonance / today</div>
        </div>
        <div class="panelBody">
          <div class="score">
            <div class="scoreRow">
              <strong>DAILY RANK</strong>
              <span id="rankText">â€”</span>
            </div>
            <div class="scoreRow">
              <strong>BEST SCORE</strong>
              <span id="bestScore">0</span>
            </div>
            <div class="scoreRow">
              <strong>PLAY COUNT</strong>
              <span id="playCount">0</span>
            </div>
          </div>

          <div class="hint" style="margin-top:1rem;">
            ã“ã“ã¯â€œæ†§ã‚Œã®é›‘èªŒã‚µã‚¤ãƒˆâ€ã®å¯¾æ¥µã€‚<br>
            é™å¯‚ã®ECRUã®è£å´ã§ã€DiCoãŒå¤œã‚’æ˜ã‚‹ãã™ã‚‹ã€‚
          </div>

          <div class="mini" aria-label="Quick actions">
            <button class="btn" id="btnReset" type="button">RESET</button>
            <button class="btn" id="btnTip" type="button">DiCoã®ä¸€è¨€</button>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Floating DiCo -->
  <div class="dicoFab" aria-label="DiCo assistant">
    <div class="bubble" id="bubble">
      ãƒ‡ã‚£ãƒ‡ã‚£ãƒ‡ã‚£ã€œâ™ª ä»Šæ—¥ã¯ã©ã‚Œã§éŠã¶ï¼Ÿ<br>
      <span class="small">Tipï¼šå‹ã¡æ–¹ã¯ã²ã¨ã¤ã˜ã‚ƒãªã„ã‚ˆã€‚</span>
    </div>
    <button class="fabBtn" id="fabBtn" type="button" aria-label="Open DiCo message"></button>
  </div>

  <!-- Modal -->
  <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Game Modal">
      <div class="modalHead">
        <strong id="modalTitle">PLAY</strong>
        <button class="modalClose" id="modalClose" type="button">CLOSE</button>
      </div>
      <div class="modalBody">
        <div class="gameShell" id="gameShell">
          <div>
            <p id="gameText">
              ã“ã“ã«ã‚²ãƒ¼ãƒ ã‚’å·®ã—è¾¼ã¿ã¾ã™ã€‚<br>
              æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ <b>Re:Flip</b> ã‚’ã“ã®æ ã«â€œå®Ÿè£…â€ã—ã¦ã„ã“ã†ã€‚
            </p>
            <div class="mini">
              <span class="pill">NEON</span>
              <span class="pill">ARCADE</span>
              <span class="pill">DIDIDI</span>
              <span class="pill">NOT ONLY CORRECT</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ----- smooth jump to play zone
    const btnPlayNow = document.getElementById('btnPlayNow');
    btnPlayNow.addEventListener('click', () => {
      document.getElementById('play').scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    // ----- video toggle (iOS safe-ish)
    const dicoVideo = document.getElementById('dicoVideo');
    const btnToggleVideo = document.getElementById('btnToggleVideo');
    let videoOn = true;

    function setVideoState(on){
      videoOn = on;
      if(on){
        dicoVideo.style.display = '';
        // try play
        dicoVideo.play().catch(()=>{ /* autoplay may be blocked */ });
        btnToggleVideo.textContent = 'ğŸ¥ å‹•ç”»ï¼šON/OFF';
      }else{
        dicoVideo.pause();
        dicoVideo.style.display = 'none';
        btnToggleVideo.textContent = 'ğŸ¥ å‹•ç”»ï¼šOFFï¼ˆè»½é‡ï¼‰';
      }
    }
    btnToggleVideo.addEventListener('click', () => setVideoState(!videoOn));

    // if video fails, keep poster
    dicoVideo.addEventListener('error', () => {
      // keep poster visual; no hard stop
      setVideoState(false);
    });

    // ----- scoreboard (localStorage)
    const bestScoreEl = document.getElementById('bestScore');
    const playCountEl = document.getElementById('playCount');
    const rankTextEl = document.getElementById('rankText');

    const LS_BEST = 'dico_bestScore';
    const LS_PLAY = 'dico_playCount';

    function calcRank(score){
      if(score >= 9000) return 'SSS';
      if(score >= 6000) return 'SS';
      if(score >= 3500) return 'S';
      if(score >= 1800) return 'A';
      if(score >= 800)  return 'B';
      return 'C';
    }

    function loadScore(){
      const best = Number(localStorage.getItem(LS_BEST) || 0);
      const play = Number(localStorage.getItem(LS_PLAY) || 0);
      bestScoreEl.textContent = best.toString();
      playCountEl.textContent = play.toString();
      rankTextEl.textContent = calcRank(best);
    }
    loadScore();

    // ----- DiCo bubble
    const fabBtn = document.getElementById('fabBtn');
    const bubble = document.getElementById('bubble');
    let bubbleTimer = null;

    function showBubble(text){
      bubble.innerHTML = text;
      bubble.classList.add('show');
      clearTimeout(bubbleTimer);
      bubbleTimer = setTimeout(()=> bubble.classList.remove('show'), 3200);
    }

    fabBtn.addEventListener('click', () => {
      showBubble('ãƒ‡ã‚£ãƒ‡ã‚£ãƒ‡ã‚£ã€œâ™ª ã­ã€éŠã¼ï¼Ÿ<br><span class="small">æŠ¼ã—ãŸã‚‰â€œPLAY ZONEâ€ã‹ã‚‰é¸ã‚“ã§ã­ã€‚</span>');
    });

    // ----- Modal open/close
    const modalOverlay = document.getElementById('modalOverlay');
    const modalClose = document.getElementById('modalClose');
    const modalTitle = document.getElementById('modalTitle');
    const gameText = document.getElementById('gameText');

    function openModal(title){
      modalTitle.textContent = title.toUpperCase();
      modalOverlay.classList.add('open');
      modalOverlay.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }
    function closeModal(){
      modalOverlay.classList.remove('open');
      modalOverlay.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }
    modalClose.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', (e)=>{ if(e.target === modalOverlay) closeModal(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeModal(); });

    // ----- Cards hook (placeholder for now)
    const cards = document.querySelectorAll('.card');
    function bumpPlayCount(){
      const play = Number(localStorage.getItem(LS_PLAY) || 0) + 1;
      localStorage.setItem(LS_PLAY, String(play));
      loadScore();
    }

    cards.forEach(card => {
      card.addEventListener('click', () => {
        const game = card.dataset.game || 'PLAY';
        bumpPlayCount();
        openModal(game);

        // different flavor text per game
        const textMap = {
          'Re:Flip': 'Re:Flip ã‚’ã“ã“ã«å®Ÿè£…ã™ã‚‹ã‚ˆã€‚<br>â€œå…¨éƒ¨æ­£ã—ã„â€ãŒå‹ã¡ã¨ã¯é™ã‚‰ãªã„ã€‚<br><span style="color:rgba(183,161,115,0.92);letter-spacing:.12em;font-weight:900;">DiCoï¼š</span>ã€Œæ­£è§£ã ã‘ãŒæœªæ¥ã˜ã‚ƒãªã„ã‚ˆï¼Ÿã€',
          'DiDi Beat': 'DiDi Beatï¼ˆãƒªã‚ºãƒ ï¼‰ã‚’ã“ã“ã«å®Ÿè£…ã™ã‚‹ã‚ˆã€‚<br>ã‚¿ãƒƒãƒ—ã§ãƒ“ãƒ¼ãƒˆã€ãƒŸã‚¹ã£ã¦ã‚‚ç¬‘ãˆã‚‹æ„Ÿã˜ã«ã€‚',
          'Etera Escape': 'Etera Escapeï¼ˆãƒ©ãƒ³ï¼‰ã‚’ã“ã“ã«å®Ÿè£…ã™ã‚‹ã‚ˆã€‚<br>æœ€é©åŒ–ãŒè¿½ã£ã¦ãã‚‹ã€ã§ã‚‚é€ƒã’æ–¹ã¯é¸ã¹ã‚‹ã€‚',
          'Lucky Draw': 'Lucky Drawï¼ˆã‚«ã‚¸ãƒï¼‰ã‚’ã“ã“ã«å®Ÿè£…ã™ã‚‹ã‚ˆã€‚<br>1æšå¼•ãã€ã§ã‚‚â€œæ„å‘³â€ã¯ã‚ãªãŸãŒæ±ºã‚ã‚‹ã€‚'
        };
        gameText.innerHTML = textMap[game] || 'ã“ã“ã«ã‚²ãƒ¼ãƒ ã‚’å·®ã—è¾¼ã¿ã¾ã™ã€‚';
        showBubble('ã‚ˆã—ã£â™ª ' + game + ' ã„ã“ï¼<br><span class="small">ãƒ‡ã‚£ãƒ‡ã‚£ãƒ‡ã‚£ã€œï¼</span>');
      });

      card.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault();
          card.click();
        }
      });
    });

    // quick open
    document.getElementById('btnOpenGame').addEventListener('click', ()=>{
      bumpPlayCount();
      openModal('PLAY');
      gameText.innerHTML = 'ã‚²ãƒ¼ãƒ ã‚’é¸ã¶ãªã‚‰ <b>PLAY ZONE</b> ã‹ã‚‰ï¼<br><span style="color:rgba(183,161,115,0.92);letter-spacing:.12em;font-weight:900;">DiCoï¼š</span>ã€Œè¿·ã£ãŸã‚‰ã€ã¾ãšã²ã£ãã‚Šè¿”ãï¼Ÿã€';
      showBubble('ãƒ¢ãƒ¼ãƒ€ãƒ«é–‹ã„ãŸã‚ˆã€œâ™ª<br><span class="small">æ¬¡ã¯ Re:Flip ã‚’å…¥ã‚Œã‚ˆã†ã€‚</span>');
    });

    // reset & tip
    document.getElementById('btnReset').addEventListener('click', ()=>{
      localStorage.setItem(LS_BEST, '0');
      localStorage.setItem(LS_PLAY, '0');
      loadScore();
      showBubble('ãƒªã‚»ãƒƒãƒˆã—ãŸï¼<br><span class="small">â€œã¾ãŸæœ€åˆã‹ã‚‰â€ã‚‚ã€æœªæ¥ã ã‚ˆã€‚</span>');
    });

    document.getElementById('btnTip').addEventListener('click', ()=>{
      const tips = [
        'ãƒ‡ã‚£ãƒ‡ã‚£ãƒ‡ã‚£ã€œâ™ª å‹ã¤ã‚ˆã‚Šâ€œæ°—æŒã¡ã‚ˆãâ€ã„ã“ï¼Ÿ<br><span class="small">ã‚¹ã‚³ã‚¢ã¯å…±é³´ã®ç›®å®‰ã ã‚ˆã€‚</span>',
        'æ­£è§£ã ã‘ãŒæœªæ¥ã˜ã‚ƒãªã„ã‚ˆï¼Ÿ<br><span class="small">é€†ä½ç½®ã®ã¾ã¾ã§ã‚‚ç¶ºéº—ã€‚</span>',
        'ç¬‘ã£ã¦ï¼é‡ã„ã®ã¯ã‚ã¨ã§ï¼<br><span class="small">ã“ã“ã¯éŠã³ã®ãƒ•ãƒ­ã‚¢ã€‚</span>',
      ];
      const t = tips[Math.floor(Math.random()*tips.length)];
      showBubble(t);
    });

    // optional: reduce CPU if not visible
    document.addEventListener('visibilitychange', ()=>{
      if(document.hidden){
        try{ dicoVideo.pause(); }catch{}
      }else{
        if(videoOn) dicoVideo.play().catch(()=>{});
      }
    });
  </script>
</body>
</html>
