:root{
  --bg: #05060b;
  --txt: rgba(245,245,245,.92);
  --muted: rgba(245,245,245,.65);
  --cyan: rgba(0,240,255,.95);
  --gold: rgba(230,201,107,.95);
  --vio: rgba(156,60,255,.95);

  /* 追加：神話レイヤ用トーン */
  --ink: rgba(0,0,0,.35);
  --glass: rgba(255,255,255,.06);
  --glass2: rgba(255,255,255,.10);
  --line: rgba(255,255,255,.14);
  --hiero: rgba(230,201,107,.22);     /* ヒエログリフ粒子 */
  --sand: rgba(230,201,107,.16);      /* 砂 */
  --solar: rgba(255,210,110,.92);     /* 太陽 */
  --solar2: rgba(255,120,60,.38);     /* 太陽の熱 */
  --eye: rgba(0,240,255,.28);         /* ホルスの目の冷光 */

  --safeB: env(safe-area-inset-bottom, 0px);
  --safeT: env(safe-area-inset-top, 0px);

  /* JSが更新 */
  --vh: 1vh;
}

*{ box-sizing:border-box; }
html, body{ height:100%; }
body{
  margin:0;
  background: var(--bg);
  color: var(--txt);
  font-family: system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
  overflow:hidden;
}

.app{
  position:relative;
  width:100%;
  height: calc(var(--vh) * 100);
  padding-top: calc(var(--safeT) + 10px);
  padding-bottom: calc(var(--safeB) + 12px);
}

.bgVideo{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:.28;
  filter: saturate(1.2) contrast(1.05);
  transform: translateZ(0);
}

.fxLayer{
  position:absolute;
  inset:0;
  pointer-events:none;
  overflow:hidden;
}

/* =========================
   Myth Layer（エジプト×星界）
========================= */
.mythLayer{
  position:absolute;
  inset:0;
  z-index:3; /* canvas(4)の下に置く：演出はFX/DOMで上にも出せる */
  pointer-events:none;
  opacity:1;
}

/* 背景に薄い星砂グリッド（神殿の床×サイバー） */
.mythLayer::before{
  content:"";
  position:absolute;
  inset:-20%;
  background:
    radial-gradient(circle at 20% 30%, rgba(0,240,255,.08), transparent 55%),
    radial-gradient(circle at 80% 70%, rgba(156,60,255,.06), transparent 55%),
    radial-gradient(circle at 50% 40%, rgba(230,201,107,.05), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), transparent 30%, rgba(0,0,0,.30));
  opacity:.9;
  filter: blur(.2px);
}

/* -------------------------
   1) ヒエログリフ・リング（THOTH）
------------------------- */
.hieroRing{
  position:absolute;
  left:50%;
  top:82%;
  width:min(420px, 86vw);
  aspect-ratio: 1/1;
  transform: translate(-50%,-50%) scale(.86);
  opacity:0;
  border-radius:999px;
  background:
    conic-gradient(from 90deg,
      transparent 0 6%,
      rgba(230,201,107,.18) 6% 7%,
      transparent 7% 12%,
      rgba(0,240,255,.14) 12% 13%,
      transparent 13% 18%,
      rgba(230,201,107,.14) 18% 19%,
      transparent 19% 24%,
      rgba(156,60,255,.10) 24% 25%,
      transparent 25% 30%,
      rgba(230,201,107,.14) 30% 31%,
      transparent 31% 100%);
  box-shadow:
    0 0 26px rgba(230,201,107,.14),
    0 0 40px rgba(0,240,255,.10);
  filter: drop-shadow(0 0 12px rgba(230,201,107,.12));
  mix-blend-mode: screen;
}

.hieroRing::before{
  content:"";
  position:absolute;
  inset:10%;
  border-radius:999px;
  border:1px dashed rgba(230,201,107,.18);
  box-shadow: inset 0 0 24px rgba(0,240,255,.10);
  opacity:.9;
}

.hieroRing::after{
  /* 疑似ヒエログリフの走査ライン */
  content:"";
  position:absolute;
  inset:0;
  border-radius:999px;
  background:
    repeating-conic-gradient(from 0deg,
      rgba(230,201,107,.0) 0 10deg,
      rgba(230,201,107,.12) 10deg 12deg,
      rgba(230,201,107,.0) 12deg 18deg);
  mask: radial-gradient(circle, transparent 55%, #000 56%);
  opacity:.55;
  filter: blur(.4px);
}

/* JSで付ける想定：.on で展開 */
.hieroRing.on{
  animation: hieroPop .42s ease-out both, hieroSpin 4.2s linear infinite;
}
@keyframes hieroPop{
  0%{ opacity:0; transform: translate(-50%,-50%) scale(.62); }
  60%{ opacity:1; transform: translate(-50%,-50%) scale(.98); }
  100%{ opacity:.85; transform: translate(-50%,-50%) scale(.92); }
}
@keyframes hieroSpin{
  to{ transform: translate(-50%,-50%) scale(.92) rotate(360deg); }
}

/* -------------------------
   2) マアトの秤（BALANCE）
------------------------- */
.maatScale{
  position:absolute;
  left:50%;
  top:28%;
  width:min(520px, 92vw);
  height:160px;
  transform: translateX(-50%);
  opacity:0;
  filter: drop-shadow(0 0 18px rgba(0,240,255,.12));
}
.maatScale .scaleBeam{
  position:absolute;
  left:50%;
  top:28px;
  width:72%;
  height:2px;
  transform: translateX(-50%);
  background: linear-gradient(90deg, transparent, rgba(230,201,107,.55), transparent);
  box-shadow: 0 0 18px rgba(230,201,107,.12);
}
.maatScale .scalePlate{
  position:absolute;
  top:44px;
  width:160px;
  height:92px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(6,6,12,.22);
  backdrop-filter: blur(8px);
  box-shadow:
    0 0 22px rgba(0,240,255,.08),
    inset 0 0 20px rgba(230,201,107,.08);
}
.maatScale .scalePlate.left{ left:8%; }
.maatScale .scalePlate.right{ right:8%; }

.maatScale .scalePlate::before{
  content:"";
  position:absolute;
  inset:10px;
  border-radius:14px;
  border:1px solid rgba(230,201,107,.12);
  background:
    radial-gradient(circle at 30% 25%, rgba(0,240,255,.12), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(230,201,107,.10), transparent 55%);
  opacity:.9;
}

.maatScale.on{
  animation: scaleReveal .55s ease-out both;
}
@keyframes scaleReveal{
  0%{ opacity:0; transform: translateX(-50%) translateY(-10px) scale(.98); }
  100%{ opacity:.85; transform: translateX(-50%) translateY(0) scale(1); }
}

/* -------------------------
   3) 太陽円盤（SOLAR）
------------------------- */
.solarDisc{
  position:absolute;
  left:50%;
  top:22%;
  width:min(640px, 98vw);
  aspect-ratio: 1/1;
  transform: translate(-50%,-50%) scale(.9);
  opacity:0;
  mix-blend-mode: screen;
  filter: drop-shadow(0 0 28px rgba(255,210,110,.14));
}
.solarDisc .solarCore{
  position:absolute;
  inset:26%;
  border-radius:999px;
  background:
    radial-gradient(circle at 35% 30%, rgba(255,255,255,.38), transparent 55%),
    radial-gradient(circle, rgba(255,210,110,.55), rgba(255,120,60,.18) 62%, transparent 74%);
  box-shadow:
    0 0 46px rgba(255,210,110,.18),
    0 0 66px rgba(0,240,255,.08);
}
.solarDisc .solarRays{
  position:absolute;
  inset:0;
  border-radius:999px;
  background:
    repeating-conic-gradient(from 0deg,
      rgba(255,210,110,.0) 0 6deg,
      rgba(255,210,110,.10) 6deg 7deg,
      rgba(255,210,110,.0) 7deg 14deg);
  mask: radial-gradient(circle, transparent 46%, #000 47%);
  opacity:.75;
  filter: blur(.4px);
}

.solarDisc.on{
  animation: solarIgnite .42s ease-out both, solarSpin 6.0s linear infinite;
}
@keyframes solarIgnite{
  0%{ opacity:0; transform: translate(-50%,-50%) scale(.70); }
  55%{ opacity:1; transform: translate(-50%,-50%) scale(1.02); }
  100%{ opacity:.92; transform: translate(-50%,-50%) scale(.96); }
}
@keyframes solarSpin{
  to{ transform: translate(-50%,-50%) scale(.96) rotate(360deg); }
}

/* 粒子フィールド（砂/星/コード） */
.particleField{
  position:absolute;
  inset:0;
  opacity:.0;
}
.particleField.on{
  opacity:1;
  animation: fieldBreath 1.4s ease-in-out infinite;
}
@keyframes fieldBreath{
  0%,100%{ filter: drop-shadow(0 0 8px rgba(230,201,107,.08)); }
  50%{ filter: drop-shadow(0 0 16px rgba(0,240,255,.10)); }
}

/* =========================
   HUD
========================= */
.hud{
  position:relative;
  z-index:5;
  display:grid;
  grid-template-columns: 1fr 1.2fr 1fr;
  gap:12px;
  padding: 0 14px;
  align-items:start;
}

.hud .label{
  font-size:12px;
  letter-spacing:.12em;
  color: var(--muted);
}

.hud .value{
  font-size:22px;
  font-weight:800;
  text-shadow: 0 0 18px rgba(0,240,255,.25);
}

.hudMid{
  display:flex;
  flex-direction:column;
  gap:10px;
  align-items:center;
}

.combo{
  display:flex;
  gap:10px;
  align-items:baseline;
}

.combo .value{
  font-size:26px;
}

.fever{
  width:min(320px, 92%);
  padding:10px 12px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  backdrop-filter: blur(10px);
  border-radius:14px;
}

.feverTop{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:8px;
}

.feverBar{
  height:10px;
  border-radius:999px;
  background: rgba(255,255,255,.10);
  overflow:hidden;
}

.feverFill{
  height:100%;
  width:0%;
  background: linear-gradient(90deg, var(--vio), var(--cyan), var(--gold));
  box-shadow: 0 0 18px rgba(0,240,255,.35);
}

/* =========================
   Stage / Canvas / Target
========================= */
.stage{
  position:absolute;
  inset:0;
  z-index:4;
}

.noteCanvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  z-index:4;
  touch-action: manipulation;
}

/* ターゲット（ホルスの目/アンク/ピラミッド/太陽円盤に変形する“器”）
   JSで #targetRoot に data-form / data-tier / data-color を付け替える想定 */
.targetRoot{
  position:absolute;
  left:50%;
  top:82%;
  width:min(260px, 56vw);
  aspect-ratio: 1/1;
  transform: translate(-50%,-50%);
  z-index:5;
  pointer-events:none;
  opacity:.95;
  filter: drop-shadow(0 0 18px rgba(0,240,255,.12));
}

.targetOuter, .targetCore, .targetHitRing, .scanLine{
  position:absolute;
  inset:0;
  border-radius:999px;
}

.targetOuter{
  background:
    radial-gradient(circle at 35% 30%, rgba(255,255,255,.12), transparent 55%),
    radial-gradient(circle at 60% 70%, rgba(0,240,255,.10), transparent 58%),
    conic-gradient(from 90deg,
      rgba(0,240,255,.0) 0 18%,
      rgba(0,240,255,.18) 18% 19%,
      rgba(230,201,107,.0) 19% 42%,
      rgba(230,201,107,.16) 42% 43%,
      rgba(156,60,255,.0) 43% 70%,
      rgba(156,60,255,.12) 70% 71%,
      rgba(0,240,255,.0) 71% 100%);
  border:1px solid rgba(255,255,255,.16);
  box-shadow:
    inset 0 0 26px rgba(0,240,255,.10),
    inset 0 0 18px rgba(230,201,107,.06);
  opacity:.9;
}

.targetCore{
  inset:28%;
  border-radius:999px;
  background:
    radial-gradient(circle at 35% 30%, rgba(255,255,255,.22), transparent 55%),
    radial-gradient(circle, rgba(0,240,255,.20), transparent 62%);
  border:1px solid rgba(0,240,255,.16);
  box-shadow: 0 0 22px rgba(0,240,255,.14);
  animation: corePulse 1.2s ease-in-out infinite;
}
@keyframes corePulse{
  0%,100%{ transform: scale(.98); opacity:.88; }
  50%{ transform: scale(1.04); opacity:1; }
}

.targetHitRing{
  inset:9%;
  border:1px dashed rgba(230,201,107,.22);
  opacity:.7;
  filter: blur(.1px);
}

.scanLine{
  inset:0;
  border-radius:999px;
  background: conic-gradient(from 0deg, rgba(0,240,255,.0), rgba(0,240,255,.18), rgba(0,240,255,.0));
  mask: radial-gradient(circle, transparent 52%, #000 53%);
  opacity:.5;
  animation: scanSpin 2.6s linear infinite;
}
@keyframes scanSpin{
  to{ transform: rotate(360deg); }
}

/* フォーム変化：ホルスの目（eye）/アンク（ankh）/ピラミッド（pyramid）/太陽（solar） */
.targetRoot[data-form="eye"] .targetOuter{
  border-radius: 999px 999px 980px 980px;
}
.targetRoot[data-form="ankh"] .targetOuter{
  border-radius: 999px;
  mask:
    radial-gradient(circle at 50% 28%, #000 0 26%, transparent 27%),
    radial-gradient(circle at 50% 48%, #000 0 30%, transparent 31%),
    linear-gradient(#000 0 0);
  mask-composite: intersect;
}
.targetRoot[data-form="pyramid"] .targetOuter{
  border-radius: 16px;
  clip-path: polygon(50% 6%, 92% 82%, 8% 82%);
}
.targetRoot[data-form="solar"] .targetOuter{
  background:
    radial-gradient(circle, rgba(255,210,110,.18), rgba(255,120,60,.08) 60%, transparent 72%),
    repeating-conic-gradient(from 0deg, rgba(255,210,110,.0) 0 10deg, rgba(255,210,110,.12) 10deg 11deg, rgba(255,210,110,.0) 11deg 20deg);
  mask: radial-gradient(circle, transparent 42%, #000 43%);
}

/* 成功段階（tier）で色を成長させる：0=cyan → 1=gold → 2=vio → 3=platinum */
.targetRoot[data-tier="0"]{ filter: drop-shadow(0 0 16px rgba(0,240,255,.14)); }
.targetRoot[data-tier="1"]{ filter: drop-shadow(0 0 18px rgba(230,201,107,.16)); }
.targetRoot[data-tier="2"]{ filter: drop-shadow(0 0 20px rgba(156,60,255,.18)); }
.targetRoot[data-tier="3"]{ filter: drop-shadow(0 0 26px rgba(255,255,255,.14)); }

.targetRoot.hit{
  animation: hitFlash .18s ease-out both;
}
@keyframes hitFlash{
  0%{ transform: translate(-50%,-50%) scale(1); }
  70%{ transform: translate(-50%,-50%) scale(1.06); }
  100%{ transform: translate(-50%,-50%) scale(1.01); }
}

/* =========================
   判定テキスト（光＋文字）
========================= */
.judgeText{
  position:absolute;
  left:50%;
  top:72%;
  transform: translate(-50%,-50%);
  z-index:8;
  opacity:0;
  pointer-events:none;
  text-align:center;
  filter: drop-shadow(0 0 18px rgba(0,240,255,.16));
}
.judgeMain{
  display:block;
  font-size:28px;
  font-weight:900;
  letter-spacing:.14em;
  text-shadow: 0 0 20px rgba(0,240,255,.18);
}
.judgeSub{
  display:block;
  margin-top:2px;
  font-size:12px;
  font-weight:800;
  letter-spacing:.28em;
  color: rgba(245,245,245,.78);
}
.judgeText.show{
  animation: judgePop .42s ease-out both;
}
@keyframes judgePop{
  0%{ opacity:0; transform: translate(-50%,-50%) scale(.92); }
  25%{ opacity:1; }
  100%{ opacity:0; transform: translate(-50%,-62%) scale(1.06); }
}

/* =========================
   プロトコルスタック（THOTH/MAAT/RA）
========================= */
.protocolStack{
  position:absolute;
  left:14px;
  top: calc(var(--safeT) + 74px);
  z-index:8;
  display:flex;
  flex-direction:column;
  gap:8px;
  opacity:.0;
  transform: translateY(-6px);
}
.protocolStack.on{
  opacity:1;
  transform: translateY(0);
  transition: opacity .22s ease, transform .22s ease;
}
.protocolItem{
  width: min(280px, 70vw);
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(6,6,12,.42);
  backdrop-filter: blur(14px);
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow: 0 0 30px rgba(0,240,255,.10);
}
.pTag{
  font-size:11px;
  font-weight:900;
  letter-spacing:.24em;
  color: rgba(230,201,107,.86);
}
.pText{
  font-size:12px;
  font-weight:800;
  letter-spacing:.14em;
  color: rgba(245,245,245,.78);
}

/* state */
.protocolItem[data-state="idle"]{ opacity:.55; }
.protocolItem[data-state="on"]{
  opacity:1;
  border-color: rgba(230,201,107,.26);
  box-shadow: 0 0 34px rgba(230,201,107,.12), 0 0 38px rgba(0,240,255,.10);
}
.protocolItem[data-state="done"]{
  opacity:.95;
  border-color: rgba(0,240,255,.18);
}

/* =========================
   3枚カード（COMPASS/TRIGGER/ROUTE）
========================= */
.arcanaTriad{
  position:absolute;
  left:50%;
  top:54%;
  transform: translate(-50%,-50%);
  width:min(880px, 92vw);
  display:grid;
  grid-template-columns: 1fr;
  gap:12px;
  z-index:8;
  opacity:0;
  pointer-events:none;
}
@media (min-width: 720px){
  .arcanaTriad{
    grid-template-columns: repeat(3, 1fr);
    gap:14px;
  }
}
.arcanaTriad[data-visible="1"]{
  opacity:1;
  animation: triadIn .28s ease-out both;
}
@keyframes triadIn{
  0%{ transform: translate(-50%,-48%) scale(.98); opacity:0; }
  100%{ transform: translate(-50%,-50%) scale(1); opacity:1; }
}

.cardSlot{
  position:relative;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(6,6,12,.45);
  backdrop-filter: blur(16px);
  overflow:hidden;
  box-shadow: 0 0 34px rgba(0,240,255,.10);
  min-height: 118px;
}

.cardGlow{
  position:absolute;
  inset:-30%;
  opacity:.55;
  filter: blur(24px);
  transform: rotate(18deg);
}
.cardGlow.compass{
  background: radial-gradient(circle, rgba(0,240,255,.22), transparent 60%);
}
.cardGlow.trigger{
  background: radial-gradient(circle, rgba(255,120,60,.18), transparent 60%);
}
.cardGlow.route{
  background: radial-gradient(circle, rgba(156,60,255,.18), transparent 60%);
}

.cardFace{
  position:relative;
  padding:14px 14px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.cardHead{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.cardRole{
  font-size:12px;
  font-weight:900;
  letter-spacing:.24em;
  color: rgba(245,245,245,.78);
}
.cardSigil{
  font-size:14px;
  color: rgba(230,201,107,.86);
  text-shadow: 0 0 16px rgba(230,201,107,.12);
}
.cardName{
  font-size:18px;
  font-weight:900;
  letter-spacing:.08em;
}
.cardMeta{
  font-size:11px;
  font-weight:800;
  letter-spacing:.18em;
  color: rgba(245,245,245,.62);
}

/* 吸収シール（石版/神殿板） */
.absorbSeal{
  position:absolute;
  inset:0;
  opacity:0;
  background:
    radial-gradient(circle at 50% 50%, rgba(230,201,107,.18), transparent 62%),
    repeating-linear-gradient(90deg, rgba(230,201,107,.0) 0 10px, rgba(230,201,107,.10) 10px 11px, rgba(230,201,107,.0) 11px 22px);
  mix-blend-mode: screen;
}

.cardSlot.absorb{
  animation: cardAbsorb .55s ease-in both;
}
.cardSlot.absorb .absorbSeal{
  opacity:1;
  animation: sealPulse .55s ease-in both;
}
@keyframes sealPulse{
  0%{ filter: blur(8px); }
  100%{ filter: blur(0px); }
}
@keyframes cardAbsorb{
  0%{ opacity:1; transform: translateY(0) scale(1); }
  50%{ opacity:1; transform: translateY(2px) scale(.98); }
  100%{ opacity:0; transform: translateY(10px) scale(.94); }
}

/* =========================
   God Mode（SOLAR SCRIBE）
========================= */
.godMode{
  position:absolute;
  inset:0;
  z-index:9;
  display:grid;
  place-items:center;
  opacity:0;
  pointer-events:none;
}
.godMode[data-on="1"]{
  opacity:1;
  animation: godIn .28s ease-out both;
}
@keyframes godIn{
  0%{ opacity:0; transform: scale(.98); }
  100%{ opacity:1; transform: scale(1); }
}
.godFrame{
  width:min(560px, 90vw);
  padding:18px 18px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.18);
  background:
    radial-gradient(circle at 30% 20%, rgba(255,210,110,.16), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(0,240,255,.12), transparent 55%),
    rgba(6,6,12,.55);
  backdrop-filter: blur(18px);
  box-shadow:
    0 0 56px rgba(255,210,110,.10),
    0 0 44px rgba(0,240,255,.14);
  text-align:center;
}
.godTitle{
  font-size:12px;
  font-weight:900;
  letter-spacing:.28em;
  color: rgba(255,210,110,.88);
}
.godName{
  margin-top:8px;
  font-size:34px;
  font-weight:1000;
  letter-spacing:.10em;
  text-shadow: 0 0 24px rgba(255,210,110,.14);
}
.godLine{
  margin-top:8px;
  font-size:13px;
  font-weight:800;
  letter-spacing:.12em;
  color: rgba(245,245,245,.78);
}

/* =========================
   Bottom Buttons
========================= */
.bottom{
  position:absolute;
  left:0;
  right:0;
  bottom:0;
  z-index:6;
  display:flex;
  gap:10px;
  justify-content:center;
  padding: 12px 14px calc(var(--safeB) + 12px);
}

.btn{
  border:1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.07);
  color: var(--txt);
  padding: 12px 14px;
  border-radius: 14px;
  font-weight:800;
  letter-spacing:.06em;
}

.btn.primary{
  border-color: rgba(0,240,255,.35);
  background: rgba(0,240,255,.12);
  box-shadow: 0 0 20px rgba(0,240,255,.12);
}

/* =========================
   Center Banner（TAROT EXPANSION 派手版）
========================= */
.centerBanner{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  z-index:7;
  pointer-events:none;
  opacity:0;
  transform: scale(.96);
}

.centerBanner.show{
  opacity:1;
  transform: scale(1);
  transition: opacity .15s ease, transform .15s ease;
}

.bannerInner{
  width:min(520px, 88vw);
  padding:18px 18px;
  border-radius:18px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(6,6,12,.55);
  backdrop-filter: blur(14px);
  text-align:center;
  box-shadow: 0 0 40px rgba(0,240,255,.18);
  position:relative;
  overflow:hidden;
}

/* 金エンボス風の筋＋ヒエログリフ粒子 */
.bannerInner::before{
  content:"";
  position:absolute;
  inset:-40%;
  background:
    repeating-linear-gradient(120deg,
      rgba(230,201,107,.0) 0 12px,
      rgba(230,201,107,.08) 12px 13px,
      rgba(230,201,107,.0) 13px 24px),
    radial-gradient(circle at 30% 20%, rgba(255,210,110,.14), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(0,240,255,.12), transparent 55%);
  opacity:.75;
  filter: blur(.2px);
  transform: rotate(6deg);
  mix-blend-mode: screen;
}

.bannerSmall{
  color: rgba(245,245,245,.74);
  font-weight:700;
  letter-spacing:.18em;
  font-size:12px;
}
.bannerTiny{
  margin-top:6px;
  color: rgba(245,245,245,.58);
  font-weight:800;
  letter-spacing:.20em;
  font-size:11px;
}

.bannerBig{
  margin:10px 0 4px;
  font-size:34px;
  font-weight:1000;
  letter-spacing:.08em;
  /* 金＋白の2重シャドウで“神殿の刻印” */
  text-shadow:
    0 0 24px rgba(255,210,110,.14),
    0 0 14px rgba(0,240,255,.10);
}

.bannerSub{
  font-size:12px;
  font-weight:900;
  letter-spacing:.22em;
  color: rgba(230,201,107,.82);
  text-shadow: 0 0 18px rgba(230,201,107,.10);
}

/* =========================
   判定ライン（6時固定）
========================= */
.app::after{
  content:"";
  position:absolute;
  left:50%;
  top:82%;
  width:min(520px, 86vw);
  height:2px;
  transform: translate(-50%, -50%);
  background: linear-gradient(90deg, transparent, rgba(0,240,255,.75), transparent);
  opacity:.75;
  z-index:5;
  pointer-events:none;
}

/* =========================
   FEVER（静かな威）
========================= */
body.feverOn .bgVideo{
  opacity:.36;
  filter: saturate(1.35) contrast(1.08);
}

body.feverOn .app{
  animation: pulseGlow 1.2s ease-in-out infinite;
}

@keyframes pulseGlow{
  0%,100% { filter: drop-shadow(0 0 10px rgba(230,201,107,.10)); }
  50%     { filter: drop-shadow(0 0 22px rgba(0,240,255,.18)); }
}

/* =========================
   中央から広がる「サイバーカード」（既存）
========================= */
.card{
  position:absolute;
  left:50%;
  top:50%;
  width: 120px;
  height: 170px;
  transform: translate(-50%, -50%) scale(.35) rotate(var(--rot, 0deg));
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.18);
  background:
    radial-gradient(circle at 30% 20%, rgba(0,240,255,.20), transparent 55%),
    radial-gradient(circle at 70% 80%, rgba(230,201,107,.18), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  box-shadow:
    0 0 24px rgba(0,240,255,.16),
    0 0 44px rgba(156,60,255,.10);
  opacity:0;
  will-change: transform, opacity;
}

.card::before{
  content: attr(data-title);
  position:absolute;
  left:10px;
  top:10px;
  font-size:12px;
  letter-spacing:.18em;
  color: rgba(245,245,245,.8);
}

.card::after{
  content:"";
  position:absolute;
  inset:10px;
  border-radius:10px;
  border: 1px solid rgba(0,240,255,.18);
  box-shadow: inset 0 0 22px rgba(0,240,255,.10);
}

@keyframes cardBurst{
  0%   { opacity:0; transform: translate(-50%,-50%) scale(.3) rotate(var(--rot,0deg)); }
  10%  { opacity:1; }
  60%  { opacity:1; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(.95) rotate(calc(var(--rot,0deg) + 18deg)); }
  100% { opacity:0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1.05) rotate(calc(var(--rot,0deg) + 28deg)); }
}

.card.play{
  animation: cardBurst .85s ease-out both;
}

/* =========================
   SR only
========================= */
.srOnly{
  position:absolute;
  width:1px; height:1px;
  overflow:hidden;
  clip: rect(0,0,0,0);
  white-space:nowrap;
  clip-path: inset(50%);
}
