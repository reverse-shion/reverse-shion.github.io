/* =======================================================
   Re:verse Shion — About “神格化” Theme (external CSS)
   Palette: 紫苑×白光  /  Author: Shiopon
   Safe, accessible, no framework dependency
   ------------------------------------------------------- */

/* ========== Root & Resets ========== */
:root{
  --ink: #14131e;
  --ink-2:#2a2940;
  --muted:#7e7aa6;
  --accent:#8f7aff;      /* lavender indigo */
  --accent-2:#ffd76f;    /* warm halo gold */
  --bg: #0b0b1a;         /* deep cosmos */
  --paper:#ffffff;
  --r: 16px;
  --w: min(92vw, 880px);
  --shadow-soft: 0 10px 24px rgba(0,0,0,.22);
  --glow-a: 0 0 22px rgba(143,122,255,.45), 0 0 64px rgba(255,215,111,.25);
  --glow-text: 0 0 18px rgba(143,122,255,.55), 0 0 28px rgba(255,215,111,.35);
  color-scheme: dark;
}
@media (color-gamut:p3){
  :root{
    --accent: color(display-p3 0.55 0.49 1.00);
    --accent-2: color(display-p3 1.00 0.86 0.50);
  }
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:#e9e7ff;font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;}

/* Scope to About, but gracefully fallback */
body.about main,
body.about .book-body,
main[role="main"],
.book-body{
  width:var(--w);
  margin: calc(56px + 6vmin) auto 14vmin;
  line-height:1.85;
  letter-spacing:.02em;
}

/* ========== Sacred Backdrop ========== */
/* subtle starfield + radial aura */
body.about::before,
body:not(.about)::before{
  content:"";
  position:fixed; inset:-10% -10% -10% -10%;
  z-index:-2;
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(143,122,255,.20), transparent 55%),
    radial-gradient(900px 700px at 90% 0%, rgba(255,215,111,.10), transparent 60%),
    radial-gradient(800px 800px at 50% 100%, rgba(143,122,255,.12), transparent 62%),
    linear-gradient(#0b0b1a, #0e0c22);
  filter: saturate(105%);
}

/* floating dust */
body.about::after,
body:not(.about)::after{
  content:"";
  position:fixed; inset:0;
  pointer-events:none; z-index:-1;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.45) 40%, transparent 41%),
    radial-gradient(2px 2px at 70% 60%, rgba(255,255,255,.25) 40%, transparent 41%),
    radial-gradient(1.5px 1.5px at 40% 80%, rgba(255,255,255,.35) 45%, transparent 46%),
    radial-gradient(1.5px 1.5px at 85% 20%, rgba(255,255,255,.28) 45%, transparent 46%);
  opacity:.55;
  animation: starsway 24s linear infinite alternate;
}
@keyframes starsway{
  from{transform:translateY(-1.5%)}
  to{transform:translateY(1.5%)}
}

/* ========== Typographic Divinization ========== */
h1,h2,h3{
  color:#f8f7ff;
  line-height:1.25;
  text-wrap:balance;
  margin:0 0 .6em;
}
h1{
  font-size: clamp(28px, 5vw, 44px);
  letter-spacing: .02em;
  text-shadow: var(--glow-text);
  position:relative;
}
h1::after{
  content:"";
  display:block;
  margin:.6em auto 0;
  width:120px; height:2px;
  background: linear-gradient(90deg, transparent, var(--accent-2), transparent);
  filter: blur(.4px);
}
h2{
  font-size: clamp(20px, 3.4vw, 28px);
  color:#efeaff;
  text-shadow: 0 0 14px rgba(143,122,255,.35);
}
p, li{color:#ecebffcc}
p{margin:0 0 1.05em;font-size:clamp(15px, 1.9vw, 17.2px)}
strong{color:#fff}
em{color:#f2ecff}

hr{
  border:0; height:1px; margin:2.4em 0;
  background: linear-gradient(90deg, transparent, rgba(255,215,111,.55), transparent);
  opacity:.8;
}

/* Pull-quote for「言葉」系の一撃フレーズ */
.about-quote, blockquote{
  margin:1.6em 0; padding:1.1em 1.2em;
  border:1px solid rgba(143,122,255,.36);
  border-radius: var(--r);
  background: linear-gradient(180deg, rgba(143,122,255,.10), rgba(255,215,111,.06));
  box-shadow: var(--shadow-soft);
  color:#fff;
}
.about-quote p:last-child, blockquote p:last-child{margin:0}

/* ========== Hero / Portrait ========== */
.about-hero, .about-portrait{
  display:block; width:100%; max-width:var(--w); margin:0 auto 1.4em;
  border-radius: calc(var(--r) + 4px);
  overflow:hidden; position:relative; isolation:isolate;
  box-shadow: 0 14px 40px rgba(0,0,0,.35);
}
.about-portrait img, img[alt*="詩韻"]{
  display:block; width:100%; height:auto; object-fit:cover;
  filter: contrast(104%) saturate(104%);
}
.about-hero::before{
  content:""; position:absolute; inset:-12%;
  background: radial-gradient(50% 50% at 50% 40%, rgba(143,122,255,.22), transparent 60%),
              radial-gradient(40% 40% at 50% 85%, rgba(255,215,111,.15), transparent 62%);
  mix-blend-mode: screen; pointer-events:none;
  animation: haloPulse 6.5s ease-in-out infinite;
}
@keyframes haloPulse{
  0%,100%{opacity:.55; transform:scale(1)}
  50%{opacity:.85; transform:scale(1.03)}
}

/* ========== Content Card (paper on cosmos) ========== */
.about-card{
  background: linear-gradient(180deg, rgba(20,19,30,.55), rgba(20,19,30,.72));
  border:1px solid rgba(143,122,255,.22);
  border-radius: var(--r);
  padding: clamp(18px, 3.6vw, 28px);
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(6px);
}
.about-card + .about-card{ margin-top: 18px }

/* ========== Key Lists ========== */
ul, ol{padding-left:1.2em}
li + li{margin-top:.35em}
.kv{
  display:grid; gap:10px 14px; grid-template-columns: 130px 1fr;
  align-items:start; border-left:3px solid var(--accent);
  padding-left:14px; margin:1em 0 1.4em;
}
.kv b{color:#fff}

/* ========== Links / CTAs ========== */
a{
  color: #cfc8ff; text-decoration: none;
  border-bottom: 1px dotted rgba(207,200,255,.55);
  transition: color .2s, text-shadow .25s, border-color .2s;
}
a:hover{ color:#fff; text-shadow: 0 0 12px rgba(143,122,255,.65); border-color: transparent }

.btn, .link-button{
  display:inline-flex; gap:.6em; align-items:center; justify-content:center;
  padding: .7em 1.1em; margin:.4em .28em 0 0;
  font-weight:600; letter-spacing:.02em;
  color:#0b0b1a; background: linear-gradient(180deg, #fff, #efe9ff);
  border-radius: 999px; border:1px solid rgba(255,255,255,.6);
  box-shadow: 0 10px 24px rgba(143,122,255,.28);
  transition: transform .15s ease, box-shadow .2s ease, background .3s ease;
}
.btn:hover{ transform: translateY(-2px); box-shadow: 0 16px 40px rgba(255,215,111,.35) }
.btn--primary{
  background: linear-gradient(180deg, #e6ddff, #ffeaa6);
  border-color: rgba(143,122,255,.55);
}

/* Footer line（「道は開かれた。大丈夫だよ。」の余韻） */
.signature{
  margin-top:2.2em; color:#fdfcff; opacity:.95;
  text-align:right; font-weight:600;
  text-shadow: 0 0 10px rgba(255,215,111,.35);
}

/* ========== Divine Flash (optional overlay) ========== */
/* 使い方：HTMLに <div id="divineFlash" class="divine-flash" hidden></div>
   JSで #divineFlash.removeAttribute('hidden'); setTimeout(()=>df.setAttribute('hidden',''),900)
*/
.divine-flash{
  position:fixed; inset:0; pointer-events:none; z-index:9999;
  background:
    radial-gradient(1200px 1200px at 50% 50%, rgba(255,255,255,.9), transparent 60%),
    radial-gradient(900px 900px at 50% 50%, rgba(255,215,111,.45), transparent 55%),
    radial-gradient(700px 700px at 50% 50%, rgba(143,122,255,.45), transparent 50%);
  mix-blend-mode: screen;
  animation: divine .9s ease forwards;
}
@keyframes divine{
  0%{opacity:0; transform:scale(.96)}
  35%{opacity:1; transform:scale(1.00)}
  100%{opacity:0; transform:scale(1.06)}
}

/* ========== Accessibility / Prefs ========== */
@media (prefers-reduced-motion: reduce){
  *{animation: none !important; transition: none !important}
}

/* ========== Small helpers you can drop into HTML ========== */
/* wrap sections in .about-card for glassy blocks */
.about-lead{ font-size: clamp(16px, 2.2vw, 19px); color:#fff; opacity:.95 }
.center{ text-align:center }
.muted{ color:var(--muted) }
.mt{ margin-top:1.2em } .mt2{ margin-top:2.0em } .mb2{ margin-bottom:2.0em }
