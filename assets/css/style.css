/* Re:verse Shion — 3-card Reading minimal theme */
/* ===== Theme ===== */
:root{
  --ink:#20202a;
  --muted:#6b6b7d;
  --bg:#ffffff;
  --halo-a: rgba(255,215,111,.32);
  --halo-b: rgba(174,138,255,.32);
  --accent:#7e66ff;
  --r:14px;

  /* 裏面画像（念のためCSSにも用意：JSで上書き） */
  --card-back-url: url("../tarot/back.png");
}
@media (color-gamut:p3){
  :root{
    --accent: color(display-p3 0.48 0.40 1.00);
  }
}
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; font:16px/1.75 "Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
  color:var(--ink); background:var(--bg);
}
img{ max-width:100%; display:block }

/* ===== Layout ===== */
.wrap{ width:min(1100px, 92vw); margin-inline:auto; padding:24px 0 64px }
.page-head{ text-align:center; margin:8px 0 10px }
.page-head h1{ margin:0 0 4px; font-size:clamp(20px, 3.6vw, 28px) }
.page-head .sub{ margin:0; color:var(--muted) }

/* ===== Buttons ===== */
.btn{
  -webkit-tap-highlight-color: transparent;
  appearance:none; border:none; padding:12px 18px; border-radius:999px; cursor:pointer;
  font-weight:700; letter-spacing:.02em;
  transition: transform .08s ease;
}
.btn:active{ transform: translateY(1px) scale(.99) }
.btn--primary{
  color:#222; background:
  radial-gradient(120px 60px at 30% 20%, var(--halo-a), transparent 60%),
  radial-gradient(140px 80px at 70% 80%, var(--halo-b), transparent 60%),
  linear-gradient(90deg, #ffd76f, #ffb4e6 50%, #c2b4ff);
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.btn--ghost{
  color:#fff; background:#a6a3b5;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.55), 0 4px 14px rgba(0,0,0,.06);
}

/* ===== Stage ===== */
.stage{ position:relative; margin:14px 0 18px; padding:10px 0 14px }
#ripple{
  position:absolute; inset:0; width:100%; height:100%;
  display:block; z-index:0; pointer-events:none;
}
.deck{
  position:relative; z-index:1;
  display:grid; gap:16px;
  grid-template-columns: repeat(3, minmax(120px, 1fr));
  align-items:start; justify-items:center;
  margin-top:6px;
}
.card-wrap{ text-align:center }

/* ===== Card ===== */
.tarot-card{
  width:min(190px, 28vw);
  aspect-ratio: 63 / 88; /* カード比率 */
  border:none; background:transparent; padding:0; margin:0;
  border-radius:12px; perspective:1000px; cursor:pointer;
  filter: drop-shadow(0 8px 24px rgba(0,0,0,.15));
  transition: filter .25s ease;
}
.tarot-card[disabled]{ cursor:default; opacity:.75; filter: none }
.tarot-card-inner{
  position:relative; inset:0;
  width:100%; height:100%;
  transform-style: preserve-3d;
  transition: transform .6s cubic-bezier(.2,.6,.2,1);
}
.tarot-card.is-flipped .tarot-card-inner{ transform: rotateY(180deg) }
.face{ position:absolute; inset:0; backface-visibility:hidden; overflow:hidden; border-radius:12px }
.face img{ width:100%; height:100%; object-fit:cover }
.face-back{
  background: #fff center/cover no-repeat var(--card-back-url);
  border:1px solid rgba(0,0,0,.06);
}
.face-front{ transform: rotateY(180deg); background:#fff }

/* ===== Caption ===== */
.cap{ margin-top:8px; min-height:1.6em; color:var(--muted); font-size:14px }

/* ===== Actions ===== */
.actions{ display:flex; gap:12px; justify-content:center; margin:12px 0 8px }

/* ===== Result ===== */
#result{ margin-top:6px }
.result-grid{
  display:grid; gap:14px; grid-template-columns:repeat(3, 1fr);
}
@media (max-width:760px){
  .result-grid{ grid-template-columns:1fr; }
}
.result-item{
  background:#fff; border-radius:16px; padding:14px 16px;
  box-shadow: 0 10px 26px rgba(0,0,0,.06), inset 0 0 0 1px rgba(0,0,0,.04);
}
.badge{
  display:inline-block; font-size:12px; color:#5f5b74;
  background:rgba(174,138,255,.14); border:1px solid rgba(174,138,255,.25);
  padding:2px 8px; border-radius:999px; margin-bottom:6px;
}
.res-title{ margin:.2em 0 .1em; font-size:18px }
.res-text{ margin:.2em 0 0; color:#6a6a7d }

/* ===== A11y ===== */
.sr-only{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden;
  clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
