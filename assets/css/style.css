/* =========================================================
   Re:verse Shion — Minimal, Stable & Mystic (2025-11-01)
   依存ゼロ／純粋HTML+CSS+内蔵JSで安定動作
   ========================================================= */

/* === Root / Base === */
:root{
  --ink:#20202a;
  --muted:#636377;
  --bg:#0b0b1a;
  --paper:#ffffff;
  --accent:#7e66ff;
  --gold:#ffd76f;
  --r:16px;
  --header-h:64px;
}
*{box-sizing:border-box}
html{scroll-padding-top:var(--header-h)}
body{
  margin:0;background:var(--bg);color:var(--paper);
  font-family:"Noto Sans JP",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Meiryo",sans-serif;
  -webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;
}
a{color:var(--gold);text-decoration:none}
img,video{max-width:100%;display:block;height:auto}
.wrap{width:min(94vw,1120px);margin-inline:auto}

/* === Header (スクロールで出現→一定時間で消える) === */
.site-header{
  position:sticky;top:0;z-index:1000;height:var(--header-h);
  background:rgba(10,10,20,.72);backdrop-filter:blur(10px);
  border-bottom:1px solid rgba(255,255,255,.08);
  transform:translateY(-100%);transition:transform .28s ease;
}
.site-header.is-visible{transform:translateY(0)}
.site-header .wrap{height:var(--header-h);display:flex;align-items:center;justify-content:center;gap:12px}
.brand__dot{
  width:32px;height:32px;border-radius:50%;
  background:radial-gradient(circle at 30% 30%, var(--gold), #ffb6ff 45%, var(--accent) 85%);
  box-shadow:0 0 16px rgba(174,138,255,.35)
}
.brand__text{font-weight:800}
.brand__sub{color:rgba(255,255,255,.8);font-size:.95em}

/* === Hero === */
.hero{position:relative;overflow:hidden;text-align:center;padding:96px 0 72px}
.hero__media{position:absolute;inset:0;z-index:0;overflow:hidden}
.hero__video{width:100%;height:100%;object-fit:cover;filter:brightness(1.06) contrast(1.04)}
.hero__veil{position:absolute;inset:0;background:
  linear-gradient(180deg,rgba(0,0,0,.35) 0%,rgba(0,0,0,.62) 60%,rgba(0,0,0,.72) 100%),
  radial-gradient(60% 60% at 50% 50%, rgba(255,255,255,.1), rgba(255,255,255,0) 60%)}
.hero>.wrap{position:relative;z-index:1}
.hero h1{
  font-family:"Zen Old Mincho","Noto Sans JP",serif;
  font-size:clamp(28px,4.2vw,44px);line-height:1.3;margin:0 0 12px;
  text-shadow:0 0 10px rgba(255,255,255,.9),0 0 24px rgba(255,215,111,.38),0 0 36px rgba(174,138,255,.38);
}
.hero p{max-width:780px;margin:0 auto 24px;line-height:1.9;color:rgba(255,255,255,.92)}
.cta-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:16px}
.btn{
  padding:12px 20px;border-radius:999px;font-weight:800;display:inline-flex;gap:.6em;align-items:center;justify-content:center;
  border:1px solid rgba(255,255,255,.18);transition:.2s
}
.btn--primary{background:linear-gradient(180deg,var(--gold),#ffb6ff);color:#2a1030;border-color:transparent;box-shadow:0 10px 28px rgba(255,215,111,.45)}
.btn--ghost{background:rgba(255,255,255,.1);color:#fff}
.btn:hover{transform:translateY(-2px)}

/* === Section === */
section{padding:60px 0;border-top:1px solid rgba(255,255,255,.08)}
h2{text-align:center;margin:0 0 6px}
.h2-sub{text-align:center;color:rgba(255,255,255,.75);margin:0 0 20px}

/* === Trinity === */
.trinity__figure{max-width:min(1200px,92vw);margin:0 auto 14px;border-radius:16px;overflow:hidden;box-shadow:0 12px 32px rgba(174,138,255,.22)}
.trinity__video{cursor:pointer;aspect-ratio:21/13.5;object-fit:cover}

/* === Codex list（簡易） === */
.codex{width:min(94vw,1120px);margin:0 auto}
.codex__list{display:grid;gap:10px;margin:10px 0 0;padding:0;list-style:none}
@media(min-width:720px){.codex__list{grid-template-columns:repeat(2,1fr)}}
@media(min-width:980px){.codex__list{grid-template-columns:repeat(3,1fr)}}
.codex__item{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px}
.badge{display:inline-flex;align-items:center;gap:.4em;background:rgba(255,215,111,.18);border:1px solid rgba(255,215,111,.4);padding:2px 8px;border-radius:999px;font-size:12px;font-weight:800}

/* === Mini Reading（3枚） === */
.reading-ui{position:relative;max-width:980px;margin:0 auto}
.reading-actions{display:flex;gap:10px;justify-content:center;margin-bottom:10px}
.deck{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;max-width:720px;margin:0 auto;justify-items:center;perspective:1200px}
.card-wrap{display:flex;flex-direction:column;align-items:center;gap:6px}
.card{
  width:120px;aspect-ratio:2/3;position:relative;border-radius:16px;cursor:not-allowed;
  transform-style:preserve-3d;transition:transform .62s cubic-bezier(.22,.72,.18,1.05), box-shadow .2s;
  box-shadow:0 8px 24px rgba(174,138,255,.16);border:1px solid rgba(255,255,255,.12);background:transparent;overflow:hidden
}
.card:enabled{cursor:pointer}
.card:enabled:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 14px 32px rgba(174,138,255,.22)}
.card__face{
  position:absolute;inset:0;border-radius:16px;background-size:cover;background-position:center;
  backface-visibility:hidden;-webkit-backface-visibility:hidden;
}
.card__face--back{transform:rotateY(0deg)}
.card__face--front{transform:rotateY(180deg)}
.card.is-picked{transform:rotateY(180deg);box-shadow:0 18px 46px rgba(126,102,255,.25)}
.caption{
  font-family:"Zen Old Mincho","Noto Sans JP",serif;font-weight:700;letter-spacing:.04em;
  font-size:clamp(14px,1.9vw,17px);color:#fff;opacity:.0;transform:translateY(2px);
  transition:opacity .25s, transform .25s;min-height:1.6em
}
.caption.is-show{opacity:1;transform:translateY(0)}

/* Ripple Canvas */
.ripple{position:absolute;inset:0;pointer-events:none;z-index:2;mix-blend-mode:screen;opacity:0;transition:opacity .25s}

/* Result */
.result{display:grid;gap:12px;max-width:980px;margin:14px auto 0}
@media(min-width:720px){.result{grid-template-columns:repeat(3,1fr)}}
.result__item{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px}
.result__item h4{margin:.2em 0;color:#fff}
.result__item p{margin:0;color:rgba(255,255,255,.9);line-height:1.7}

/* === Footer === */
footer{padding:40px 0;text-align:center;color:rgba(255,255,255,.8);border-top:1px solid rgba(255,255,255,.08)}
.sns{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-bottom:10px}
.sns a{padding:8px 12px;border-radius:999px;background:rgba(255,255,255,.1)}
