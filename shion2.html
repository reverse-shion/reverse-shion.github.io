<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>è©©éŸ» Shion â€• è¨€è‘‰ã§é­‚ã‚’æ•‘ã† Code å ã„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0b1a" />
  <meta name="description" content="è©©éŸ» Shion â€• æ€æƒ³ã¨å ã„ã®Codeã€‚è©©ã§ç…§ã‚‰ã—ã€Codeã§é€²ã‚€ã€‚ã‚ãªãŸã®â€œä»Šâ€ã‚’ã€è¨€è‘‰ã®æ‰‹é †ã§å¹¸ã›ãªä¸–ç•Œç·šã¸å°ãã€‚">
  <link rel="stylesheet" href="shion-tarot.css">
</head>

<body>
  <!-- â‘  ç¥æ®¿ãƒ’ãƒ¼ãƒ­ãƒ¼ -->
  <section class="hero-temple">
    <div class="t-bg t-bg__halo"></div>
    <div class="t-bg t-bg__pillars"></div>
    <div class="t-bg t-bg__dust"></div>

    <div class="hero-temple__inner">
      <h1 class="t-title">
        <span class="t-title__lead">è¨€è‘‰ã§é­‚ã‚’æ•‘ã†ã€</span>
        <span class="t-title__core">æ€æƒ³ã¨å ã„ã® <em>Code</em></span>
      </h1>

      <p class="t-sub">
        è©©ã§ç…§ã‚‰ã—ã€Codeã§é€²ã‚€ã€‚<br>
        ã‚ãªãŸã®â€œä»Šâ€ã‚’ã€è¨€è‘‰ã®æ‰‹é †ã§å¹¸ã›ãªä¸–ç•Œç·šã¸ã€‚
      </p>

      <p class="t-poem">â€”â€” é™ã‹ãªå‘¼å¸ã®å…ˆã«ã€å¿…ãšå…‰ãŒã‚ã‚‹ã€‚å¤§ä¸ˆå¤«ã ã‚ˆã€‚</p>

      <div class="t-ctas">
        <button class="t-btn t-btn--primary js-start">ğŸŒŸ ç„¡æ–™ã§ä½“é¨“ã—ã¦ã¿ã‚‹ï¼ˆ1åˆ†ï¼‰</button>
        <a class="t-btn t-btn--ghost" href="https://lin.ee/9RBqOl4" target="_blank" rel="noopener">
          ğŸ’« å€‹äººé‘‘å®šã‚’ç”³ã—è¾¼ã‚€
          <small>åˆå›4,000å††ï½œ24hä»¥å†…è¿”ä¿¡ï½œåŒ¿åOK</small>
        </a>
      </div>

      <ul class="t-trust" aria-label="å®‰å¿ƒãƒã‚¤ãƒ³ãƒˆ">
        <li>åˆå›4,000å††</li><li>24hä»¥å†…è¿”ä¿¡</li><li>åŒ¿åOK</li>
      </ul>
    </div>
  </section>

  <!-- â‘¡ ç„¡æ–™ä½“é¨“3ã‚¹ãƒ†ãƒƒãƒ— -->
  <section class="steps-temple">
    <h2 class="steps-title">ç„¡æ–™ä½“é¨“ã®æµã‚Œ</h2>
    <p class="steps-lead">1åˆ†ã§ã€â€œè¨€è‘‰ã®å…‰â€ã‚’æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚</p>

    <div class="steps-grid">
      <article class="step">
        <div class="step-num">â‘ </div>
        <h3 class="step-head">é¡˜ã„ã‚’æ€ã„æã</h3>
        <p class="step-body">é™ã‹ã«ç›®ã‚’é–‰ã˜ã¦ã€å¶ãˆãŸã„æƒ³ã„ã‚’èƒ¸ã«ç½®ã„ã¦ãã ã•ã„ã€‚</p>
      </article>
      <article class="step">
        <div class="step-num">â‘¡</div>
        <h3 class="step-head">ã‚«ãƒ¼ãƒ‰ã‚’ã‚ãã‚‹</h3>
        <p class="step-body">3æšã®ã‚¿ãƒ­ãƒƒãƒˆãŒã€ã‚ãªãŸã®â€œä»Šâ€ã¨å‘ã‹ã„åˆã„ã¾ã™ã€‚</p>
      </article>
      <article class="step">
        <div class="step-num">â‘¢</div>
        <h3 class="step-head">è¨€è‘‰ã®Codeã‚’å—ã‘å–ã‚‹</h3>
        <p class="step-body">è©©éŸ»ã®æ€æƒ³ã«åŸºã¥ãè¨€è‘‰ã®æ‰‹é †ãŒã€ã‚ãªãŸã®ä¸–ç•Œç·šã‚’å°ãã¾ã™ã€‚</p>
      </article>
    </div>

    <div class="steps-cta">
      <button class="t-btn t-btn--primary js-start">ğŸŒŸ ç„¡æ–™ã§ä½“é¨“ã—ã¦ã¿ã‚‹ï¼ˆ1åˆ†ï¼‰</button>
    </div>
  </section>

  <!-- â‘¢ ç„¡æ–™å ã„ä½“é¨“ã‚¨ãƒªã‚¢ -->
  <section id="reading" class="reading-temple" aria-labelledby="readingTitle">
    <h2 id="readingTitle">æ˜Ÿã®å£°ãŒå±Šãã¾ã—ãŸ</h2>
    <p class="reading-poem">è©©ï¼ˆPoemï¼‰ãƒ»éŸ»ï¼ˆRhythmï¼‰ãƒ»ç¥ˆï¼ˆPrayerï¼‰ â€”â€” ã‚ãªãŸã®é­‚ãŒé¸ã‚“ã 3ã¤ã®éŸ¿ãã§ã™ã€‚</p>

    <!-- ã‚«ãƒ¼ãƒ‰ -->
    <div class="t-cards" id="tCards" aria-live="polite">
      <div class="t-card" data-idx="0" aria-label="è©©ã®ã‚«ãƒ¼ãƒ‰">
        <div class="t-card__inner">
          <div class="t-face t-back"></div>
          <div class="t-face t-front"></div>
        </div>
      </div>
      <div class="t-card" data-idx="1" aria-label="éŸ»ã®ã‚«ãƒ¼ãƒ‰">
        <div class="t-card__inner">
          <div class="t-face t-back"></div>
          <div class="t-face t-front"></div>
        </div>
      </div>
      <div class="t-card" data-idx="2" aria-label="ç¥ˆã®ã‚«ãƒ¼ãƒ‰">
        <div class="t-card__inner">
          <div class="t-face t-back"></div>
          <div class="t-face t-front"></div>
        </div>
      </div>
    </div>
    <div class="reading-hint"><div class="reading-hint__pill" id="tapHint">ã‚«ãƒ¼ãƒ‰ã‚’é †ã«ã‚¿ãƒƒãƒ—</div></div>

    <!-- è©©éŸ»ç¥ˆï¼ˆ3ãƒ–ãƒ­ãƒƒã‚¯ï¼‹ç·åˆè©©ï¼‰ -->
    <div id="shionk" class="shionk" hidden>
      <div class="shionk-grid">
        <article class="shionk-item"><div class="shionk-head">è©©ï¼ˆPoemï¼‰</div><div class="shionk-body" id="b0">â€”</div></article>
        <article class="shionk-item"><div class="shionk-head">éŸ»ï¼ˆRhythmï¼‰</div><div class="shionk-body" id="b1">â€”</div></article>
        <article class="shionk-item"><div class="shionk-head">ç¥ˆï¼ˆPrayerï¼‰</div><div class="shionk-body" id="b2">â€”</div></article>
      </div>

      <div class="shionk-summary" id="summaryBox" hidden>
        <div id="summaryPoem">â€”</div>
      </div>
    </div>
  </section>

  <!-- â‘£ åç›ŠåŒ–å°ç·š -->
  <section class="cta-temple" id="ctaTemple">
    <h2 class="cta-title">ã‚‚ã£ã¨æ·±ãã€ã‚ãªãŸã®ãŸã‚ã«èª­ã‚€</h2>
    <p class="cta-lead">
      ç„¡æ–™ä½“é¨“ã®è¨€è‘‰ã«â€œä½•ã‹â€ã‚’æ„Ÿã˜ãŸã‚ãªãŸã¸ã€‚<br>
      è©©éŸ»ãŒã€ã‚ãªãŸã®é­‚ã«å¯„ã‚Šæ·»ã„ã€<br>
      ä¸€äººã²ã¨ã‚Šã®å…‰ã‚’ä¸å¯§ã«è¨€è‘‰ã¸ã¨ç´¡ãã¾ã™ã€‚
    </p>
    <div class="cta-buttons">
      <a href="https://lin.ee/9RBqOl4" target="_blank" rel="noopener" class="t-btn t-btn--primary">ğŸ’« å€‹äººé‘‘å®šã‚’ç”³ã—è¾¼ã‚€</a>
      <a href="https://lin.ee/9RBqOl4" target="_blank" rel="noopener" class="t-btn t-btn--ghost">ğŸ“© LINEã§ç„¡æ–™ç›¸è«‡ãƒ»ç™»éŒ²</a>
    </div>
    <ul class="t-trust">
      <li>åˆå›4,000å††</li><li>24hä»¥å†…è¿”ä¿¡</li><li>åŒ¿åOK</li>
    </ul>
  </section>

  <!-- â‘¤ çµ‚ç«  -->
  <footer class="temple-footer">
    <p>è©©ã¯è¨€è‘‰ã§ã‚ã‚Šã€éŸ»ã¯éŸ¿ãã§ã‚ã‚Šã€ç¥ˆã‚Šã¯é‚„ã‚‹å ´æ‰€ã€‚</p>
    <p>â€•â€• è¨€è‘‰ã§é­‚ã‚’æ•‘ã†ã€ãã‚ŒãŒè©©éŸ»æ€æƒ³ã€‚</p>
    <small>Â© 2025 Shion Philosophy â€” è¨€è‘‰ãŒé­‚ã‚’æ•‘ã† Code</small>
  </footer>

  <!-- ===== JSï¼šä½“é¨“é–‹å§‹â†’ã‚«ãƒ¼ãƒ‰â†’è©©éŸ»ç¥ˆâ†’CTAå¼·åŒ– ===== -->
  <script>
  // ãƒ‡ãƒƒã‚­ï¼ˆ2è¡Œãƒ†ã‚­ã‚¹ãƒˆï¼‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼‰â€” å¿…è¦ãªã‚‰å·®ã—æ›¿ãˆOK
  const DECK = [
    { name:'The Fool', two:['æœ€åˆã®ä¸€æ­©ã¯ã€æã‚Œã‚ˆã‚Šã‚‚è»½ã„é¢¨ã€‚','å¤±æ•—ã¯åˆå›³â€•â€•ä¸–ç•Œã¯å›ã«é–‹ãã€‚'], kw:'å§‹ã¾ã‚Š' },
    { name:'The Magician', two:['æ„å¿—ã¯æ‰‹ã‚’ã€è¨€è‘‰ã¯ç¾å®Ÿã‚’å‹•ã‹ã™ã€‚','è¶³ã‚Šãªã„ã‚‚ã®ã¯ã€ã™ã§ã«å›ã®ä¸­ã«ã‚ã‚‹ã€‚'], kw:'å‰µé€ ' },
    { name:'The High Priestess', two:['æ²ˆé»™ãŒçœŸå®Ÿã®è¼ªéƒ­ã‚’ç…§ã‚‰ã™ã€‚','å†…ãªã‚‹æœˆã«ã€è€³ã‚’æ¾„ã¾ã›ã€‚'], kw:'ç›´è¦³' },
    { name:'The Empress', two:['å„ªã—ã•ã¯åŠ›ã€å—ã‘å–ã‚‹ã“ã¨ã¯å‰µé€ ã€‚','è‚²ã¦ãŸã‚‚ã®ãŒã€å›ã‚’è‚²ã¦ã‚‹ã€‚'], kw:'è±Šç©£' },
    { name:'The Emperor', two:['è¿·ã„ã¯æ§‹é€ ã§è§£ã‘ã‚‹ã€‚','å¢ƒç•Œç·šã¯ã€å›ã‚’å®ˆã‚‹åŸã€‚'], kw:'ç§©åº' },
    { name:'The Hierophant', two:['ä¼çµ±ã¯æª»ã§ã¯ãªãã€æ¢¯å­ã€‚','å­¦ã³ã¯è‡ªç”±ã®æº–å‚™é‹å‹•ã€‚'], kw:'æ•™ãˆ' },
    { name:'The Lovers', two:['é¸ã¶ã“ã¨ã¯ã€èª°ã‹ã‚’æ„›ã™ã‚‹ã“ã¨ã€‚','æ„›ã™ã‚‹ã“ã¨ã¯ã€é¸ã³ç¶šã‘ã‚‹ã“ã¨ã€‚'], kw:'é¸æŠ' },
    { name:'The Chariot', two:['å‘ã‹ã†å…ˆãŒé€Ÿã•ã‚’æ±ºã‚ã‚‹ã€‚','æ‰‹ç¶±ã¯å¿ƒã€é€²è·¯ã¯æ„å¿—ã€‚'], kw:'å‰é€²' },
    { name:'Strength', two:['å„ªã—ã„åŠ›ã¯ã€ä¸–ç•Œã‚’å¾“ã‚ã›ãªã„ã€‚','ãã‚Œã§ã‚‚ã€ä¸–ç•Œã¯å¾“ã†ã€‚'], kw:'å†…ãªã‚‹åŠ›' },
    { name:'The Hermit', two:['ç‹¬ã‚Šã®ç¯ã‚ŠãŒã€ç¾¤è¡†ã‚ˆã‚Šé ãã‚’ç…§ã‚‰ã™ã€‚','æ¢ã—ã¦ã„ãŸã®ã¯ã€æ¢ã—ã¦ã„ã‚‹è‡ªåˆ†ã ã£ãŸã€‚'], kw:'æ¢æ±‚' },
    { name:'Wheel of Fortune', two:['å·¡ã‚‹ã®ã¯é‹ã§ã¯ãªãã€é¸æŠã€‚','ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã€æº–å‚™ã‚’æ„›ã—ã¦ã„ã‚‹ã€‚'], kw:'è»¢æ©Ÿ' },
    { name:'Justice', two:['ã‚„ã•ã—ã•ã«ã‚‚åˆƒãŒã‚ã‚‹ã€‚','å…¬å¹³ã•ã¯å›ã¨ç›¸æ‰‹ã‚’åŒæ™‚ã«æ•‘ã†ã€‚'], kw:'å‡è¡¡' },
    { name:'The Hanged Man', two:['ä¸–ç•Œã‚’é€†ã•ã«ã—ã¦ã€ã¯ã˜ã‚ã¦è¦‹ãˆã‚‹ã€‚','æ­¢ã¾ã‚‹ã“ã¨ãŒã€é€²ã‚€ã“ã¨ã«ãªã‚‹æ—¥ã‚‚ã‚ã‚‹ã€‚'], kw:'è¦–ç‚¹è»¢æ›' },
    { name:'Death', two:['çµ‚ã‚ã‚Šã¯ã€åå‰ã®é•ã†å§‹ã¾ã‚Šã€‚','è„±çš®ã®ç—›ã¿ã¯ã€ç”Ÿãã¦ã„ã‚‹è¨¼ã€‚'], kw:'å¤‰å®¹' },
    { name:'Temperance', two:['æ··ãœã‚‹ã€å¾…ã¤ã€æ•´ãˆã‚‹ã€‚','ãã®ä¸­é–“ã«ã€ç­”ãˆã¯æ£²ã‚€ã€‚'], kw:'èª¿å’Œ' },
    { name:'The Devil', two:['é–ã¯å¿ƒã®å†…å´ã«çµã°ã‚Œã¦ã„ã‚‹ã€‚','éµã‚‚ã¾ãŸã€å†…å´ã«ã‚ã‚‹ã€‚'], kw:'è§£æ”¾' },
    { name:'The Tower', two:['å£Šã‚Œã‚‹ã®ã¯ã€å£Šã™ã¹ãã‚‚ã®ã€‚','ç©ºã„ãŸéš™é–“ãŒã€å…‰ã®é€šã‚Šé“ã€‚'], kw:'è¦šé†’' },
    { name:'The Star', two:['é¡˜ã„ã¯å¤œã®æ°´é¢ã§å¼·ããªã‚‹ã€‚','å¸Œæœ›ã¯ã€æ‰‹ã‚’æ´—ã†ã¿ãŸã„ã«ç°¡å˜ã€‚'], kw:'å¸Œæœ›' },
    { name:'The Moon', two:['ä¸å®‰ã¯ã€æƒ³åƒåŠ›ã®å‰¯ä½œç”¨ã€‚','æ›™ã¯ã€å¿…ãšæ¥ã‚‹ã€‚'], kw:'æ›™å…‰' },
    { name:'The Sun', two:['å–œã³ã¯æˆ¦ç•¥ã«ãªã‚‹ã€‚','ç¬‘é¡”ã¯ã€æœªæ¥ã®å…ˆè¡ŒæŠ•è³‡ã€‚'], kw:'æˆåŠŸ' },
    { name:'Judgement', two:['èµ¦ã™ã®ã§ã¯ãªã„ã€å‘¼ã³æˆ»ã™ã®ã ã€‚','ã„ã¾ã®å›ã§ã€ã‚„ã‚Šç›´ã›ã€‚'], kw:'å†ç”Ÿ' },
    { name:'The World', two:['è¼ªã¯é–‰ã˜ã¦ã€é“ã¯é–‹ãã€‚','å®Œæˆå½¢ã¯ã€æ¬¡ã®ã‚¹ã‚¿ãƒ¼ãƒˆãƒ©ã‚¤ãƒ³ã€‚'], kw:'æˆå°±' }
  ];

  // ä½“é¨“é–‹å§‹ï¼ˆ2ç®‡æ‰€ã®ãƒœã‚¿ãƒ³ã«å¯¾å¿œï¼‰
  document.querySelectorAll('.js-start').forEach(btn=>{
    btn.addEventListener('click', () => {
      // ã‚«ãƒ¼ãƒ‰ã‚’åˆæœŸåŒ–ã—ã¦ã‹ã‚‰ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
      beginReading();
      document.getElementById('reading').scrollIntoView({behavior:'smooth', block:'start'});
    }, {passive:true});
  });

  const cardEls = Array.from(document.querySelectorAll('.t-card'));
  const bodies = [document.getElementById('b0'), document.getElementById('b1'), document.getElementById('b2')];
  const tapHint = document.getElementById('tapHint');
  const shionk = document.getElementById('shionk');
  const summaryBox = document.getElementById('summaryBox');
  const summaryPoem = document.getElementById('summaryPoem');
  const ctaTemple = document.getElementById('ctaTemple');

  let selected = [];
  let opened = 0;

  function drawThree(){
    const pool = [...DECK];
    const picks = [];
    for(let i=0;i<3;i++){
      const r = crypto.getRandomValues(new Uint32Array(1))[0] % pool.length;
      picks.push(pool.splice(r,1)[0]);
    }
    return picks;
  }

  function resetReading(){
    opened = 0;
    selected = drawThree();
    cardEls.forEach(el => el.classList.remove('is-flipped'));
    bodies.forEach(b => b.textContent = 'â€”');
    shionk.hidden = true;
    summaryBox.hidden = true;
    tapHint.style.opacity = 1;
    ctaTemple.classList.remove('is-on');
  }

  function beginReading(){ resetReading(); }

  function twoLines(card){
    return `<span class="line">${card.two[0]}</span><br><span class="line">${card.two[1]}</span>`;
  }

  function buildSummary(sel){
    const keys = sel.map(c => c.kw);
    const names = sel.map(c => c.name.replace('The ',''));
    const lines = [
      `ãã¿ãŒæ‰‰ã‚’å©ã„ãŸç¬é–“ã€æ™‚é–“ã¯ã€Œå‘³æ–¹ã€ã«å¤‰ã‚ã£ãŸã€‚`,
      `ä¸‰ã¤ã®è¨€è‘‰ãŒã€åŒã˜æ–¹å‘ã‚’æŒ‡ã—ã¦ã„ã‚‹ã€‚`,
      `ã€Œ${names[0]}ã€ã¯å‘Šã’ã‚‹â€•â€•${keys[0]}ã¯ã€å¿ƒã®ä¸­å¿ƒã«ç¨®ã‚’ç½®ãã“ã¨ã€‚`,
      `ã€Œ${names[1]}ã€ã¯é€²ã‚ã¨ã„ã†â€•â€•${keys[1]}ã¯ã€è¿·ã„ã‚’å‹•è©ã«å¤‰ãˆã‚‹ã“ã¨ã€‚`,
      `ã€Œ${names[2]}ã€ã¯é‚„ã‚Œã¨ã„ã†â€•â€•${keys[2]}ã¯ã€å…‰ã¸æˆ»ã‚‹æ‰‹é †ã®ã“ã¨ã€‚`,
      `ã ã‹ã‚‰ç„¦ã‚‰ãªãã¦ã„ã„ã€‚é€Ÿã•ã‚ˆã‚Šã€æ•´ã„ã‚’é¸ã¹ã°ã„ã„ã€‚`,
      `å›ã®æ‰‹ã®æ¸©åº¦ãŒã€ç¾å®Ÿã®é€Ÿåº¦ã‚’æ±ºã‚ã¦ã„ãã€‚`,
      `çµè«–ã¯ã‚„ã•ã—ã„â€•â€•ã„ã¾ã®å›ã§ã€ã¯ã˜ã‚ã‚Œã°ã„ã„ã€‚`,
      `å¤§ä¸ˆå¤«ã ã‚ˆã€‚è¨€è‘‰ã¯ã€å¿…ãšå›ã‚’é€£ã‚Œã¦ã„ãã€‚`
    ];
    return lines.map(l=>`<p>${l}</p>`).join('');
  }

  // ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯
  cardEls.forEach((el, idx) => {
    el.addEventListener('click', () => {
      // æœªåˆæœŸåŒ–ãªã‚‰é–‹å§‹
      if (!selected.length) beginReading();
      if (el.classList.contains('is-flipped') || opened>=3) return;

      el.classList.add('is-flipped');
      opened++;

      // å†…å®¹åæ˜ 
      const data = selected[idx];
      const label = ['ã€è©©ã€‘','ã€éŸ»ã€‘','ã€ç¥ˆã€‘'][idx];
      bodies[idx].innerHTML = `<strong>${label}</strong> ã€Š${data.name}ã€‹<br>${twoLines(data)}`;

      // æœ€åˆã®1æšã§è©©éŸ»ç¥ˆã‚¨ãƒªã‚¢ã‚’é–‹ã
      if (opened === 1 && shionk.hidden){
        shionk.hidden = false;
        document.getElementById('shionk').scrollIntoView({behavior:'smooth', block:'start'});
      }

      // 3æšå®Œäº† â†’ ç·åˆè©©è¡¨ç¤ºï¼‹CTAç‚¹ç¯ï¼‹è‡ªå‹•ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
      if (opened === 3){
        tapHint.style.opacity = 0;
        summaryPoem.innerHTML = buildSummary(selected);
        summaryBox.hidden = false;

        // CTAã‚’æŸ”ã‚‰ã‹ãå¼·èª¿
        ctaTemple.classList.add('is-on');

        // â€œè©©éŸ»ç¥ˆâ€ã®ç·åˆè©©ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
        summaryBox.scrollIntoView({behavior:'smooth', block:'start'});
      }
    }, {passive:true});
  });
  </script>
</body>
</html>
