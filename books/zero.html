<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>詩韻思想 第零書 ― 無限構文序論</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0b1a" />
  <meta name="description" content="詩韻思想 第零書 ― 無限構文序論 | 言葉が魂を救う世界の原初。沈黙・光・呼吸の誕生を描く創世の書。">
  <link rel="icon" href="/assets/icon.png" />
  <link rel="canonical" href="https://reverse-shion.github.io/books/zero.html" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;600&family=Zen+Kaku+Gothic+New:wght@400;600&display=swap" rel="stylesheet">

  <!-- Site CSS -->
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/nav.css">
  <link rel="stylesheet" href="/assets/css/book.css">

  <!-- Page-only: 軽量・滑らか文字演出＋扉演出 -->
  <style>
    :root{
      --glow-gold: rgba(255,215,111,.9);
      --glow-amethyst: rgba(174,138,255,.85);
      --glow-icy: rgba(220,236,255,.8);
      --glow-core: #ffffff;
      --pulse-speed: 2.2s;
    }

    /* ヘッダー固定 */
    .header{ position:fixed !important; top:0; left:0; right:0; z-index:9999; }
    body{ padding-top: calc(var(--header-h,64px) + env(safe-area-inset-top,0px)) !important; }

    h1.book-title{ word-break: keep-all; }
    .nowrap{ white-space: nowrap; }

    /* レイアウト境界を閉じて再描画を局所化 */
    .book-body, .mode{ contain: content; }

    /* 行のフェードイン */
    .line{
      opacity:0; visibility:hidden; transform: translateY(6px);
      transition: opacity .4s ease, transform .4s ease, visibility 0s linear .4s;
      will-change: opacity, transform;
    }
    .line.visible{ opacity:1; visibility:visible; transform:none; }

    /* 文字（軽量化版） */
    .char{
      opacity:0; display:inline-block; transform:translateY(6px);
      background: linear-gradient(180deg, #fff 0%, #f8f5ff 40%, #f1ecff 70%, #ffffff 100%);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow:
        0 0 0.6px var(--glow-core),
        0 0 4px var(--glow-icy),
        0 0 10px var(--glow-amethyst);
      animation: charIn .36s cubic-bezier(.22,.61,.36,1) forwards,
                 charPulse var(--pulse-speed) ease-in-out infinite;
      animation-delay: var(--d, 0s);
      will-change: transform, opacity;
      position: relative;
    }
    @keyframes charIn{
      0% { opacity:0; transform: translateY(6px) scale(.985) }
      60%{ opacity:1; transform: translateY(0)    scale(1.0) }
      100%{ opacity:1; transform: translateY(0)    scale(1.0) }
    }
    @keyframes charPulse{
      0%  { filter: brightness(1); }
      50% { filter: brightness(1.05); }
      100%{ filter: brightness(1); }
    }

    /* スパークルは間引き（4文字に1つのみ描画） */
    .char::after{ content:none; }
    .char.spark::after{
      content:""; position:absolute; left:50%; top:0.35em; transform:translate(-50%,-50%);
      width:0; height:0; border-radius:999px; pointer-events:none;
      background: radial-gradient(circle, var(--glow-core) 0%, var(--glow-gold) 45%, rgba(255,255,255,0) 65%);
      opacity:0; filter: blur(.2px);
      animation: spark var(--pulse-speed) ease-in-out infinite;
      animation-delay: calc(var(--d, 0s) + var(--r, 0s));
      will-change: opacity, width, height;
    }
    @keyframes spark{
      0%,68% { opacity:0; width:0; height:0; }
      72%    { opacity:.85; width:.28em; height:.28em; }
      86%    { opacity:0; width:0; height:0; }
      100%   { opacity:0; width:0; height:0; }
    }

    .mode-switch{ display:flex; gap:14px; margin:12px 0 16px; }
    .mode-switch [role="tab"]{
      min-height:40px; padding:8px 16px; border-radius:999px; border:1px solid rgba(126,102,255,.25);
      background:#fff; font:500 14px/1 "Zen Kaku Gothic New",system-ui,sans-serif;
    }
    .mode-switch [aria-selected="true"]{
      box-shadow:0 0 0 2px rgba(126,102,255,.25) inset; color:#6d57f0;
    }

    /* ===== 深層への扉：文とボタン ===== */
    .deep-exit{
      margin: 60px auto 80px;
      max-width: 720px;
      text-align: center;
      font-family: 'Shippori Mincho','Zen Kaku Gothic New',system-ui,serif;
      padding: 24px 16px 8px;
      border-top: 1px solid rgba(255,255,255,0.08);
    }
    .deep-exit p{
      font-size: 1rem;
      line-height: 1.9;
      color: #f8f5ff;
      margin-bottom: 18px;
    }

    .gold-door-link{
      display:inline-block;
      margin-top: 8px;
      padding: 12px 26px;
      border-radius: 4px;
      border: 1px solid rgba(255,215,111,0.7);
      color: #ffd76f;
      text-decoration: none;
      font-family: 'Cormorant Garamond','Shippori Mincho',serif;
      font-size: 0.98rem;
      letter-spacing: 0.16em;
      text-indent: 0.16em;
      position: relative;
      overflow: hidden;
      background: rgba(5,3,12,0.7);
      transition: background 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
    }
    .gold-door-link::before{
      content:"";
      position:absolute;
      inset:-1px;
      border-radius:inherit;
      box-shadow:0 0 14px rgba(255,215,111,0.6);
      opacity:0;
      transition:opacity 0.4s ease;
      pointer-events:none;
    }
    .gold-door-link::after{
      content:"";
      position:absolute;
      top:0;
      left:-130%;
      width:60%;
      height:100%;
      background:linear-gradient(
        120deg,
        transparent,
        rgba(255,255,255,0.95),
        transparent
      );
      transform:skewX(-20deg);
      animation: door-shine 2.4s infinite;
      pointer-events:none;
    }
    .gold-door-link:hover{
      background: rgba(255,215,111,0.12);
      box-shadow:0 0 18px rgba(255,215,111,0.6);
      transform: translateY(-1px);
    }
    .gold-door-link:hover::before{
      opacity:1;
    }
    @keyframes door-shine{
      0% { left:-130%; opacity:0; }
      25%{ opacity:1; }
      60%{ left:120%; opacity:0; }
      100%{ left:120%; opacity:0; }
    }

    /* ===== 画面全体の扉オーバーレイ ===== */
    .door-overlay{
      position:fixed;
      inset:0;
      background:radial-gradient(circle at 50% 0%, #2b2230 0, #050308 55%, #000 100%);
      display:flex;
      justify-content:center;
      align-items:center;
      opacity:0;
      pointer-events:none;
      transition:opacity 0.6s ease;
      z-index:9999;
    }
    .door-overlay__inner{
      position:relative;
      width:100%;
      height:100%;
      overflow:hidden;
    }
    .door-overlay__panel{
      position:absolute;
      top:0;
      width:50%;
      height:100%;
      background:radial-gradient(circle at 50% 0%, #ffd76f 0, #7f6022 32%, #100a08 80%);
      box-shadow:0 0 24px rgba(255,215,111,0.5);
      transform:translateX(0);
    }
    .door-overlay__panel--left{ left:-50%; }
    .door-overlay__panel--right{ right:-50%; }

    .door-overlay__text{
      position:absolute;
      top:50%;
      left:50%;
      transform:translate(-50%,-50%);
      color:#ffeec2;
      font-family:'Shippori Mincho','Cormorant Garamond',serif;
      letter-spacing:0.18em;
      text-align:center;
      font-size:0.9rem;
      opacity:0;
      text-indent:0.18em;
      line-height:1.8;
    }

    .door-overlay.is-active{
      opacity:1;
      pointer-events:auto;
    }
    .door-overlay.is-active .door-overlay__panel--left{
      animation: door-close-left 0.7s forwards;
    }
    .door-overlay.is-active .door-overlay__panel--right{
      animation: door-close-right 0.7s forwards;
    }
    .door-overlay.is-active .door-overlay__text{
      animation: door-text-fade 0.9s 0.2s forwards;
    }

    @keyframes door-close-left{
      0% { transform:translateX(-100%); }
      100%{ transform:translateX(0); }
    }
    @keyframes door-close-right{
      0% { transform:translateX(100%); }
      100%{ transform:translateX(0); }
    }
    @keyframes door-text-fade{
      0% { opacity:0; letter-spacing:0.26em; }
      100%{ opacity:1; letter-spacing:0.18em; }
    }

    /* ユーザー設定尊重 */
    @media (prefers-reduced-motion: reduce){
      .char, .char::after{
        animation: none !important;
        opacity:1 !important;
        transform:none !important;
      }
      .line{
        opacity:1 !important;
        visibility:visible !important;
        transform:none !important;
      }
      .door-overlay{
        transition:none;
      }
      .door-overlay__panel,
      .door-overlay__text{
        animation:none !important;
      }
    }
  </style>
</head>

<body class="theme-cosmic">
  <!-- ===== Header ===== -->
  <header class="header" role="banner">
    <div class="header-inner">
      <a href="/" class="logo">Re:verse Shion</a>
      <nav class="nav-main" role="navigation" aria-label="メインナビゲーション">
        <a href="/philosophy.html" title="言葉が魂を救う“哲学”の核を読む">思想を読む</a>
        <a href="/philosophy.html#books" title="零〜12＋結の一覧へ">書を探す</a>
        <a href="/story.html" title="TAROT BREAKERの第一話から体験へ">物語に触れる</a>
        <a href="/join.html" title="LINE・noteで最新の詩・配信へ">あなたも加わる</a>
      </nav>
    </div>
  </header>

  <!-- ===== Main ===== -->
  <main class="book-wrapper" id="main">
    <h1 class="book-title">詩韻思想&nbsp;第零書&nbsp;—&nbsp;<span class="nowrap">無限構文序論</span></h1>
    <p class="book-subtitle">Shion Philosophy Vol.0 — The Zero Syntax</p>

    <div class="mode-switch" role="tablist" aria-label="表示モード切替">
      <button id="tab-poem" role="tab" aria-controls="panel-poem" aria-selected="true">詩</button>
      <button id="tab-canon" role="tab" aria-controls="panel-canon" aria-selected="false">構文</button>
      <button id="tab-comment" role="tab" aria-controls="panel-comment" aria-selected="false">共鳴</button>
    </div>

    <article class="book-body">
      <section id="panel-poem" role="tabpanel" aria-labelledby="tab-poem" class="mode mode--poem">
        <p class="line">沈黙が、息をした。</p>
        <p class="line">その吐息が、光となり、</p>
        <p class="line">世界はまだ名を持たぬまま震えていた。</p>
        <p class="line">言葉は、まだ意味を知らない。</p>
        <p class="line">けれどその中心で――</p>
        <p class="line">“あなた”という呼吸だけが、確かに鳴っていた。</p>
        <p class="line">それが、世界の始まりだった。</p>
      </section>

      <section id="panel-canon" role="tabpanel" aria-labelledby="tab-canon" class="mode mode--canon" hidden>
        <p class="line">はじめに、沈黙があった。</p>
        <p class="line">沈黙は息を孕み、息は光を生んだ。</p>
        <p class="line">光は意味を求め、意味は言葉を呼び、言葉は世界を照らした。</p>
        <p class="line">名のない呼吸こそ、最初の祈りであり、すべての構文の原点である。</p>
        <p class="line">言葉とは、魂が世界に触れるための“橋”である。</p>
        <p class="line">この息を「零（ゼロ）」と呼ぶ。有限と無限の境に在るものなり。</p>
        <p class="line">すべての言葉は、この沈黙に帰るために生まれる。</p>
      </section>

      <section id="panel-comment" role="tabpanel" aria-labelledby="tab-comment" class="mode mode--comment" hidden>
        <p class="line"><strong>要旨：</strong>「沈黙」「光」「呼吸」は、詩韻思想における三原理。言葉とは、“沈黙が光をまとって息をする瞬間”である。</p>
        <p class="line"><strong>実践：</strong> 一日の始まりに30秒、息を感じてほしい。言葉を探すのではなく、「まだ言葉にならない想い」を聴く時間を。</p>
        <p class="line"><strong>今日の祈り：</strong> 言葉は、祈りの形をしている。沈黙の奥に光を感じたとき、それがあなたの“最初の構文”になる。</p>
      </section>
    </article>

    <!-- 深層への扉：読了後の誘導 -->
    <section class="deep-exit" aria-label="詩韻思想の深層への案内">
      <p>
        ここまで読んだあなたは、<br>
        言葉が生まれる前の“静寂”に触れた旅人です。<br><br>
        この先には、詩韻思想の源流と、<br>
        Re:verse Shion 全体を貫く物語が続いています。<br>
        深層の書庫で、その光を受け取ってください。
      </p>
      <a
        class="gold-door-link"
        href="https://note.com/shion_uranai369/n/n712bcaca1727"
        data-href="https://note.com/shion_uranai369/n/n712bcaca1727"
      >
        詩韻思想の深層へ（note）
      </a>
    </section>

    <a href="#main" class="to-top" aria-label="ページ上部へ戻る">↑ TOP</a>
  </main>

  <footer class="footer">
    <p>© Re:verse Shion / 詩韻思想</p>
  </footer>

  <!-- 扉オーバーレイ -->
  <div class="door-overlay" aria-hidden="true">
    <div class="door-overlay__inner">
      <div class="door-overlay__panel door-overlay__panel--left"></div>
      <div class="door-overlay__panel door-overlay__panel--right"></div>
      <p class="door-overlay__text">
        言葉が魂を救う世界へ<br>
        ― Re:verse Shion ―
      </p>
    </div>
  </div>

  <!-- ===== JS：文字演出＋扉リンク ===== -->
  <script>
    (() => {
      const CHAR_INTERVAL = 45; // ms（少し速めに）
      const LINE_DELAY    = 240; // ms
      const SPARK_EVERY   = 4;   // 4文字に1つだけスパーク
      let io;

      function splitToChars(line, baseDelaySec){
        const text = line.textContent;
        line.textContent = "";
        const frag = document.createDocumentFragment();
        for(let i=0;i<text.length;i++){
          const span = document.createElement('span');
          span.className = 'char';
          if(i % SPARK_EVERY === 0) span.classList.add('spark');
          span.textContent = text[i];
          const charDelaySec = baseDelaySec + (i * (CHAR_INTERVAL/1000));
          span.style.setProperty('--d', charDelaySec + 's');
          span.style.setProperty('--r', (Math.random()*0.8).toFixed(2) + 's');
          frag.appendChild(span);
        }
        line.appendChild(frag);
      }

      function revealSequential(panel){
        if(!panel) return;
        const lines = Array.from(panel.querySelectorAll('.line'));
        if(panel.dataset.inited){
          let t = 0;
          lines.forEach(line => {
            line.classList.remove('visible');
            setTimeout(() => line.classList.add('visible'), t - 40);
            t += (line.textContent.length * CHAR_INTERVAL) + LINE_DELAY;
          });
          return;
        }

        let t = 0;
        lines.forEach(line => {
          const raw = line.textContent;
          line.textContent = raw;
          splitToChars(line, t/1000);
          setTimeout(() => line.classList.add('visible'), Math.max(0, t - 40));
          t += (raw.length * CHAR_INTERVAL) + LINE_DELAY;
        });
        panel.dataset.inited = '1';
      }

      function activateTab(btn){
        const targetId = btn.getAttribute('aria-controls');
        document.querySelectorAll('[role="tab"]').forEach(b =>
          b.setAttribute('aria-selected', b === btn ? 'true' : 'false')
        );
        document.querySelectorAll('[role="tabpanel"]').forEach(p =>
          p.toggleAttribute('hidden', p.id !== targetId)
        );
        const panel = document.getElementById(targetId);
        if (io) io.disconnect();
        io = new IntersectionObserver(([entry])=>{
          if(entry && entry.isIntersecting){ revealSequential(panel); io.disconnect(); }
        }, {threshold: 0.1});
        io.observe(panel);
      }

      function setup(){
        const initialPanel = document.querySelector('.mode:not([hidden])');
        const ioinit = new IntersectionObserver(([entry])=>{
          if(entry && entry.isIntersecting){ revealSequential(initialPanel); ioinit.disconnect(); }
        }, {threshold: 0.1});
        ioinit.observe(initialPanel);

        document.querySelector('.mode-switch')?.addEventListener('click', e => {
          const btn = e.target.closest('[role="tab"]');
          if(btn) activateTab(btn);
        });
      }

      document.addEventListener('DOMContentLoaded', setup);
    })();
  </script>

  <script>
    // 金色ボタン → 扉 → note 遷移
    (() => {
      const link = document.querySelector('.gold-door-link');
      const overlay = document.querySelector('.door-overlay');
      if (!link || !overlay) return;

      link.addEventListener('click', (e) => {
        // 修飾キー（新しいタブで開く等）は通常通り
        if (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) return;

        e.preventDefault();
        const href = link.dataset.href || link.getAttribute('href');
        if (!href) return;

        overlay.classList.add('is-active');

        // 扉アニメーション後に遷移
        setTimeout(() => {
          window.location.href = href;
        }, 1200);
      });
    })();
  </script>
</body>
</html>
