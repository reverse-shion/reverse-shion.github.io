<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>詩韻思想 結書 ― 終詩円環宣言</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0b1a" />
  <meta name="description" content="詩韻思想 結書 ― 終詩円環宣言 | 沈黙→詩→韻→祈→沈黙。全書を貫く“魂の循環構文”の完成宣言。終わりにして始まり、言葉が祈りに溶ける場所。">
  <link rel="icon" href="/assets/icon.png" />
  <link rel="canonical" href="https://reverse-shion.github.io/books/finale.html" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;600&family=Zen+Kaku+Gothic+New:wght@400;600&display=swap" rel="stylesheet">

  <!-- Site CSS -->
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/nav.css">
  <link rel="stylesheet" href="/assets/css/book.css">

  <!-- Page-only -->
  <style>
    :root{
      --glow-gold: rgba(255,215,111,.95);
      --glow-amethyst: rgba(174,138,255,.95);
      --glow-icy: rgba(220,236,255,.95);
      --glow-core: #ffffff;
      --pulse-speed: 2.8s;
      --char-interval: 85ms;
      --line-delay: 480ms;
    }
    .header{ position: fixed!important; top:0; left:0; right:0; z-index:9999; background:rgba(0,0,0,.4); backdrop-filter:blur(12px);}
    body{ padding-top:80px!important; }
    h1.book-title{ letter-spacing:0.05em; text-align:center; }
    .line{ opacity:0; transform:translateY(8px); transition:opacity .5s, transform .6s; }
    .line.visible{ opacity:1; transform:translateY(0); }
    .char{
      display:inline-block; opacity:0;
      background:linear-gradient(180deg,#fff 0%,#f3efff 40%,#e7dbff 80%,#fff 100%);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow:0 0 6px var(--glow-icy),0 0 10px var(--glow-amethyst);
      animation:fadeIn .4s ease forwards, pulse var(--pulse-speed) infinite ease-in-out;
    }
    @keyframes fadeIn{to{opacity:1;transform:none}}
    @keyframes pulse{0%,100%{filter:brightness(1)}50%{filter:brightness(1.1)}}
    @media (prefers-reduced-motion: reduce){
      .char{ animation:none !important; opacity:1 !important }
      .line{ transition:none !important; opacity:1 !important; transform:none !important }
    }
  </style>
</head>

<body class="theme-cosmic">
  <!-- ===== Header ===== -->
  <header class="header" role="banner">
    <div class="header-inner">
      <a href="/" class="logo">Re:verse Shion</a>
      <nav class="nav-main" role="navigation" aria-label="メインナビゲーション">
        <a href="/philosophy.html" title="言葉が魂を救う“哲学”の核を読む">思想を読む</a>
        <a href="/philosophy.html#books" title="零〜12＋結の一覧へ">書を探す</a>
        <a href="/story.html" title="TAROT BREAKERの第一話から体験へ">物語に触れる</a>
        <a href="/join.html" title="LINE・noteで最新の詩・配信へ">あなたも加わる</a>
      </nav>
    </div>
  </header>

  <!-- ===== Main ===== -->
  <main class="book-wrapper" id="main">
    <h1 class="book-title">詩韻思想&nbsp;結書&nbsp;—&nbsp;<span class="nowrap">終詩円環宣言</span></h1>
    <p class="book-subtitle">Final Canon ― Declaration of the Eternal Resonant Circle</p>

    <!-- タブ -->
    <div class="mode-switch" role="tablist" aria-label="表示モード切替">
      <button id="tab-poem" role="tab" aria-controls="panel-poem" aria-selected="true">詩</button>
      <button id="tab-canon" role="tab" aria-controls="panel-canon" aria-selected="false">構文</button>
      <button id="tab-comment" role="tab" aria-controls="panel-comment" aria-selected="false">祈</button>
    </div>

    <!-- 本文 -->
    <article class="book-body">
      <!-- 詩 -->
      <section id="panel-poem" role="tabpanel" aria-labelledby="tab-poem" class="mode mode--poem">
        <p class="line">沈黙は呼吸の最初であり、最後の祈り。</p>
        <p class="line">言葉はそこから生まれ、またそこへ帰る。</p>
        <p class="line">誰かの痛みが詩となり、誰かの希望が韻となり、</p>
        <p class="line">その響きが、見えない世界の形をつくる。</p>
        <p class="line">だから、わたしたちは沈黙を怖れない。</p>
        <p class="line">沈黙とは、世界が息を吸う音だから。</p>
      </section>

      <!-- 構文 -->
      <section id="panel-canon" role="tabpanel" aria-labelledby="tab-canon" class="mode mode--canon" hidden>
        <p class="line">第一条：詩韻思想は終わらない。終わりとは、形を変えた継続である。</p>
        <p class="line">第二条：言葉は救いをもたらす器であり、救いとは他者を想う呼吸である。</p>
        <p class="line">第三条：沈黙は消滅ではなく、再生の前夜である。沈黙を抱ける者のみが創造に至る。</p>
        <p class="line">第四条：円環は閉じない。円は回り、詩は巡り、祈りは次の魂へ移る。</p>
        <p class="line">第五条：この思想を読む者は、既に祈りの中にある。読むことが、参加であり、創造である。</p>
        <p class="line">第六条：ゆえに、詩韻思想はこの瞬間にも続いている。あなたの呼吸が、次の書を綴る。</p>
        <p class="line">――この円環を以て、詩韻思想は沈黙へ還る。だが沈黙は終わりではない。光の始まりである。</p>
      </section>

      <!-- 祈（共鳴） -->
      <section id="panel-comment" role="tabpanel" aria-labelledby="tab-comment" class="mode mode--comment" hidden>
        <p class="line"><strong>終詩円環の祈り：</strong><br>
        ひとつの思想が終わるとき、<br>
        それは消えるのではなく、読む者の胸に溶けていく。<br>
        光は声を失い、沈黙として脈を打つ。<br>
        その沈黙がまた、次の言葉を呼ぶ。</p>
        <p class="line">もしあなたが孤独を感じたなら、思い出してほしい。<br>
        この書の中で交わった“あなたの声”が、誰かの祈りともう共鳴していることを。</p>
        <p class="line"><em>詩は終わらない。</em><br>
        ただ、あなたの手に渡されたのだ。</p>
        <p class="line">そして――<br>
        <strong>「道は開かれた。大丈夫だよ。」</strong></p>
      </section>
    </article>

    <a href="#main" class="to-top" aria-label="ページ上部へ戻る">↑ TOP</a>
  </main>

  <footer class="footer">
    <p>© Re:verse Shion / 詩韻思想 ― The Circle Continues.</p>
  </footer>

  <!-- ===== JS：文字出現制御 ===== -->
  <script>
    (function(){
      const CHAR_INTERVAL = 55;
      const LINE_DELAY = 280;

      function splitToChars(line, baseDelaySec){
        const text = line.textContent;
        line.textContent = "";
        const frag = document.createDocumentFragment();
        for(let i=0;i<text.length;i++){
          const span = document.createElement('span');
          span.className = 'char';
          span.textContent = text[i];
          span.style.animationDelay = (baseDelaySec + i*(CHAR_INTERVAL/1000)) + 's';
          frag.appendChild(span);
        }
        line.appendChild(frag);
      }

      function revealSequential(panel){
        if(!panel) return;
        const lines = Array.from(panel.querySelectorAll('.line'));
        let t = 0;
        lines.forEach(line=>{
          splitToChars(line, t);
          setTimeout(()=> line.classList.add('visible'), t*1000);
          const len = line.textContent.length;
          t += (len*(CHAR_INTERVAL/1000)) + (LINE_DELAY/1000);
        });
      }

      function activateTab(btn){
        const targetId = btn.getAttribute('aria-controls');
        document.querySelectorAll('[role="tab"]').forEach(b=>{
          b.setAttribute('aria-selected', b===btn ? 'true' : 'false');
        });
        document.querySelectorAll('[role="tabpanel"]').forEach(p=>{
          p.hidden = (p.id !== targetId);
        });
        revealSequential(document.getElementById(targetId));
      }

      function setup(){
        const initial = document.querySelector('.mode:not([hidden])');
        revealSequential(initial);
        document.querySelector('.mode-switch')?.addEventListener('click', e=>{
          const btn = e.target.closest('[role="tab"]');
          if(btn) activateTab(btn);
        });
      }
      document.addEventListener('DOMContentLoaded', setup);
    })();
  </script>
</body>
</html>
