/* /di/css/result.css
   TAROT BREAKER – RESULT (ARU Eye)
   - ARU = DiCo's Eye (iris + pupil)
   - Name-call triggers iris expansion
   - Starfield micro particles + code shimmer (lightweight)
*/

:root{
  --aruSize: 200px;
  --aruGlowA: rgba(0,240,255,.55);
  --aruGlowB: rgba(156,60,255,.45);
  --aruGold: rgba(230,201,107,.55);
  --aruInk: rgba(0,0,0,.85);

  --resText: rgba(245,248,255,.92);
  --resMute: rgba(245,248,255,.60);
}

#result{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  gap: 14px;

  opacity:0;
  pointer-events:none;
  transition: opacity .45s ease;

  z-index: 80;

  background:
    radial-gradient(900px 520px at 50% 35%, rgba(156,60,255,.18), transparent 60%),
    radial-gradient(900px 520px at 52% 45%, rgba(0,240,255,.14), transparent 62%),
    radial-gradient(800px 520px at 50% 80%, rgba(230,201,107,.10), transparent 65%),
    linear-gradient(180deg, rgba(6,7,14,.92) 0%, rgba(2,3,8,.96) 55%, rgba(0,0,0,1) 100%);
}

#result.active{
  opacity:1;
  pointer-events:auto;
}

/* Optional: slight film grain (very subtle) */
#result::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.10;
  background-image:
    radial-gradient(circle, rgba(255,255,255,.22) 1px, transparent 1px);
  background-size: 10px 10px;
  mix-blend-mode: overlay;
}

/* ---- Card container (optional future) ---- */
.resultShell{
  position:relative;
  width:min(520px, calc(100vw - 40px));
  padding: 26px 22px 22px;
  border-radius: 22px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 30px 90px rgba(0,0,0,.55);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  overflow:hidden;
}

.resultShell::after{
  content:"";
  position:absolute;
  inset:-2px;
  pointer-events:none;
  background:
    radial-gradient(520px 180px at 10% 0%, rgba(0,240,255,.14), transparent 58%),
    radial-gradient(520px 180px at 90% 20%, rgba(156,60,255,.12), transparent 62%),
    radial-gradient(520px 180px at 55% 105%, rgba(230,201,107,.10), transparent 64%);
  opacity:.85;
}

.resultTitle{
  position:relative;
  font-size: 12px;
  letter-spacing: .28em;
  color: rgba(245,248,255,.62);
  text-transform: uppercase;
  margin-bottom: 14px;
}

/* =========================
   ARU EYE
========================= */

.aruEyeWrap{
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  margin: 6px auto 10px;
}

.aruEye{
  width: var(--aruSize);
  height: var(--aruSize);
  border-radius: 999px;
  position:relative;
  overflow:hidden;

  background:
    radial-gradient(circle at 50% 45%,
      rgba(90,140,255,.45) 0%,
      rgba(20,40,120,.55) 38%,
      rgba(10,14,26,.92) 68%,
      rgba(0,0,0,1) 100%);

  box-shadow:
    0 0 0 1px rgba(255,255,255,.14),
    0 18px 60px rgba(0,0,0,.60),
    0 0 34px rgba(0,240,255,.18),
    0 0 42px rgba(156,60,255,.14);

  transform: translateZ(0);
}

/* Outer ring (like eyelid / seal) */
.aruEye::before{
  content:"";
  position:absolute;
  inset:-10px;
  border-radius:999px;
  background:
    conic-gradient(from 210deg,
      rgba(0,240,255,.55),
      rgba(156,60,255,.52),
      rgba(230,201,107,.38),
      rgba(0,240,255,.55));
  filter: blur(1.5px);
  opacity:.58;
  pointer-events:none;
}

/* Glass highlight */
.aruEye::after{
  content:"";
  position:absolute;
  inset: 10px 14px auto 14px;
  height: 38%;
  border-radius: 999px;
  background: radial-gradient(circle at 35% 40%,
    rgba(255,255,255,.55),
    rgba(255,255,255,.18) 45%,
    transparent 70%);
  opacity:.22;
  pointer-events:none;
  transform: rotate(-12deg);
}

/* Iris layer (rotating texture) */
.aruIris{
  position:absolute;
  inset: 12%;
  border-radius:999px;

  background:
    radial-gradient(circle at 50% 50%,
      rgba(0,240,255,.16) 0%,
      rgba(0,240,255,.06) 30%,
      rgba(156,60,255,.10) 55%,
      rgba(0,0,0,0) 72%),
    conic-gradient(from 0deg,
      rgba(0,240,255,.20),
      rgba(156,60,255,.22),
      rgba(230,201,107,.14),
      rgba(0,240,255,.20));

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.12),
    inset 0 0 28px rgba(0,0,0,.55);

  transform: rotate(0deg);
  animation: aruIrisRotate 6s linear infinite;
  opacity:.95;
}

/* Code shimmer inside iris */
.aruCode{
  position:absolute;
  inset: 6%;
  border-radius:999px;
  background:
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,.00) 0px,
      rgba(255,255,255,.00) 6px,
      rgba(0,240,255,.10) 7px,
      rgba(255,255,255,.00) 9px
    );
  opacity:.20;
  mix-blend-mode: screen;
  filter: blur(.2px);
  animation: aruCodeFlow 1.9s linear infinite;
}

/* Star micro particles (CSS only, light) */
.aruStars{
  position:absolute;
  inset: 0;
  border-radius:999px;
  background:
    radial-gradient(circle at 18% 22%, rgba(255,255,255,.85) 0 1px, transparent 2px),
    radial-gradient(circle at 64% 30%, rgba(255,255,255,.70) 0 1px, transparent 2px),
    radial-gradient(circle at 42% 64%, rgba(255,255,255,.75) 0 1px, transparent 2px),
    radial-gradient(circle at 78% 70%, rgba(255,255,255,.55) 0 1px, transparent 2px),
    radial-gradient(circle at 28% 78%, rgba(255,255,255,.65) 0 1px, transparent 2px);
  opacity:.22;
  mix-blend-mode: screen;
  animation: aruStarsBlink 1.6s ease-in-out infinite alternate;
}

/* Pupil */
.aruPupil{
  position:absolute;
  width: 34%;
  height: 34%;
  border-radius:999px;
  left: 33%;
  top: 34%;

  background:
    radial-gradient(circle at 40% 38%, rgba(30,30,30,.15), rgba(0,0,0,.92) 60%, rgba(0,0,0,1) 100%);

  box-shadow:
    inset 0 0 18px rgba(0,0,0,.85),
    0 0 20px rgba(0,0,0,.45);

  transform: translateZ(0);
}

/* Iris glow pulse layer (used only on name call) */
.aruIrisGlow{
  position:absolute;
  inset:-20%;
  border-radius:999px;
  pointer-events:none;

  background:
    radial-gradient(circle at 50% 50%,
      rgba(0,240,255,.45) 0%,
      rgba(156,60,255,.28) 40%,
      rgba(230,201,107,.22) 58%,
      transparent 70%);

  opacity:0;
  transform: scale(1);
  mix-blend-mode: screen;
}

/* “Observing” text halo */
.aruSealText{
  position:absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 11px;
  letter-spacing: .22em;
  color: rgba(245,248,255,.55);
  text-shadow: 0 10px 30px rgba(0,0,0,.6);
  user-select:none;
  pointer-events:none;
}

/* Iris expansion trigger */
.aruEye.expand .aruIrisGlow{
  animation: irisExpand 0.62s ease forwards;
}

@keyframes irisExpand{
  0%   { opacity:.85; transform: scale(1.00); }
  55%  { opacity:.95; transform: scale(1.26); }
  100% { opacity:0;   transform: scale(1.02); }
}

/* 100% bonus: a brighter micro flare */
.aruEye.full .aruIris{
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.16),
    inset 0 0 32px rgba(0,0,0,.55),
    0 0 24px rgba(255,255,255,.12);
}
.aruEye.full .aruPupil{
  box-shadow:
    inset 0 0 22px rgba(0,0,0,.88),
    0 0 26px rgba(255,255,255,.18);
}

/* Animations */
@keyframes aruIrisRotate{
  to { transform: rotate(360deg); }
}
@keyframes aruCodeFlow{
  from { transform: translateX(-10%); }
  to   { transform: translateX(10%); }
}
@keyframes aruStarsBlink{
  from { opacity:.18; }
  to   { opacity:.30; }
}

/* =========================
   RESULT METRICS / LINE
========================= */

.resonanceValue{
  position:relative;
  font-size: 44px;
  letter-spacing: .10em;
  font-weight: 900;
  color: var(--resText);
  text-shadow: 0 0 30px rgba(0,240,255,.14);
}

.resonanceLabel{
  position:relative;
  margin-top: -6px;
  font-size: 12px;
  letter-spacing: .22em;
  color: var(--resMute);
}

/* Dico line (world tone) */
.dicoLine{
  position:relative;
  margin-top: 10px;
  max-width: 420px;
  padding: 12px 14px;

  border-radius: 16px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 18px 60px rgba(0,0,0,.45);

  color: rgba(245,248,255,.88);
  font-size: 15px;
  line-height: 1.75;
  letter-spacing: .04em;

  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  white-space: pre-line;
}

.dicoLine::before{
  content:"DiCo";
  position:absolute;
  top:-10px;
  left: 14px;
  font-size: 10px;
  letter-spacing: .24em;
  color: rgba(245,248,255,.62);
  background: rgba(0,0,0,.35);
  padding: 2px 8px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
}

/* Replay button */
.replayBtn{
  margin-top: 12px;
  appearance:none;
  border-radius: 999px;

  padding: 14px 44px;
  font-weight: 900;
  letter-spacing: .14em;
  color: rgba(245,248,255,.92);

  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.08);
  box-shadow: 0 22px 70px rgba(0,0,0,.55);

  cursor:pointer;
  transition: transform .10s ease, background .18s ease, border-color .18s ease;
}
.replayBtn:hover{ border-color: rgba(255,255,255,.32); background: rgba(255,255,255,.12); }
.replayBtn:active{ transform: translateY(1px) scale(.99); }

/* Responsive */
@media (max-width: 540px){
  :root{ --aruSize: 176px; }
  .resonanceValue{ font-size: 40px; }
  .dicoLine{ max-width: 330px; }
}
