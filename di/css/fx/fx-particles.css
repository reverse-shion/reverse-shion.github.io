/* /di/css/fx/fx-particles.css
   FX PARTICLES — CYBER RITUAL (Core-first)
   - Core = white-hot nucleus + res-color halo (premium)
   - Dust = subtle data shards (secondary)
   - Stream = core bolt + faint tail (to ring)
*/

:root{
  /* default safety */
  --res-color: rgba(0,240,255,.95);
  --res-color-soft: rgba(0,240,255,.35);
  --res-color-glow: rgba(0,240,255,.18);

  /* FX tuning knobs */
  --fx-core-size-mul: 1.0;      /* 1.0..1.4 */
  --fx-core-glow-mul: 1.0;      /* 1.0..1.6 */
  --fx-dust-alpha-mul: 1.0;     /* 0.8..1.4 */
  --fx-stream-alpha-mul: 1.0;   /* 1.0..1.6 */
}

/* ---------- base particle ---------- */
.fx-particle{
  width: var(--fx-size, 14px);
  height: var(--fx-size, 14px);
  opacity: var(--fx-alpha, .92);

  /* fallback look (overridden per class) */
  background: var(--res-color);
  border-radius: 999px;

  /* premium: tiny inner highlight */
  box-shadow:
    0 0 12px rgba(255,255,255,0.12),
    0 0 18px var(--res-color-glow);

  /* keep cheap blur away; use controlled brightness */
  filter: saturate(1.12) brightness(1.06);

  will-change: transform, opacity, left, top, filter;
}

/* ---------- CORE: the “hit confirmation” nucleus ---------- */
.fx-particle.burstCore{
  /* core bigger by CSS even if JS size small */
  width: calc(var(--fx-size, 18px) * var(--fx-core-size-mul));
  height: calc(var(--fx-size, 18px) * var(--fx-core-size-mul));
  border-radius: 999px;
  opacity: 0.98;

  /* ✅ white-hot center + res halo (premium) */
  background:
    radial-gradient(circle at 35% 30%,
      rgba(255,255,255,1.00) 0%,
      rgba(255,255,255,0.92) 18%,
      rgba(255,255,255,0.20) 38%,
      rgba(255,255,255,0.00) 58%
    ),
    radial-gradient(circle at 55% 55%,
      rgba(255,255,255,0.0) 0%,
      var(--res-color) 44%,
      rgba(0,0,0,0.00) 72%
    );

  box-shadow:
    0 0 calc(18px * var(--fx-core-glow-mul)) rgba(255,255,255,0.30),
    0 0 calc(30px * var(--fx-core-glow-mul)) var(--res-color-soft),
    0 0 calc(58px * var(--fx-core-glow-mul)) var(--res-color-glow);

  filter: saturate(1.35) brightness(1.18);
}

/* ---------- DUST: secondary “data shards” ---------- */
.fx-particle.burstDust{
  /* shard-ish: diamond */
  border-radius: 3px;

  /* diamond look via rotation handled by JS transform; here we make it “holo” */
  background:
    linear-gradient(135deg,
      rgba(255,255,255,0.65) 0%,
      rgba(255,255,255,0.08) 28%,
      rgba(255,255,255,0.00) 45%
    ),
    radial-gradient(circle at 50% 50%,
      rgba(255,255,255,0.00) 0%,
      var(--res-color) 55%,
      rgba(0,0,0,0.00) 78%
    );

  opacity: calc(var(--fx-alpha, .84) * var(--fx-dust-alpha-mul));

  box-shadow:
    0 0 10px rgba(255,255,255,0.10),
    0 0 14px var(--res-color-glow);

  filter: saturate(1.28) brightness(1.10);
}

/* ---------- STREAM: the core bolt to ring ---------- */
.fx-particle.streamCore{
  border-radius: 999px;
  opacity: calc(var(--fx-alpha, .95) * var(--fx-stream-alpha-mul));

  /* bolt is whiter to read on video */
  background:
    radial-gradient(circle at 35% 30%,
      rgba(255,255,255,1.0) 0%,
      rgba(255,255,255,0.85) 26%,
      rgba(255,255,255,0.12) 48%,
      rgba(255,255,255,0.00) 64%
    ),
    radial-gradient(circle at 55% 55%,
      var(--res-color) 0%,
      rgba(0,0,0,0.00) 70%
    );

  box-shadow:
    0 0 20px rgba(255,255,255,0.22),
    0 0 34px var(--res-color-soft),
    0 0 70px var(--res-color-glow);

  filter: saturate(1.38) brightness(1.22);
}

/* optional “tail” (only if JS sets --fx-tail) */
.fx-particle.streamCore::after{
  content:"";
  position:absolute;
  inset:-10% -160%;
  pointer-events:none;
  opacity: 0.75;

  /* ✅ line tail (not fireworks) */
  background:
    linear-gradient(90deg,
      rgba(255,255,255,0.00) 0%,
      rgba(255,255,255,0.22) 26%,
      var(--res-color-soft) 54%,
      rgba(255,255,255,0.00) 100%
    );

  transform-origin: 50% 50%;
  transform:
    translateZ(0)
    rotate(var(--fx-tail-rot, 0deg))
    scaleX(var(--fx-tail, 1.0));

  filter: blur(0.2px) brightness(1.12);
}
