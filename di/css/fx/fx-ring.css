/* /di/css/fx/fx-ring.css
   AVATAR RING â€” LEGACY BASE (no drift, same-centering rule)
   - âœ… ring uses 50%/50% + translate(-50%,-50%) (same as face)
   - âœ… optional offsets for perfect alignment
*/

/* ğŸ”§ èª¿æ•´ã¤ã¾ã¿ï¼ˆå¿…è¦ãªã‚‰ hud.css ã‹ :root ã«ç½®ã„ã¦ã‚‚OKï¼‰ */
:root{
  --avatar-offset-x: 0px;   /* +å³ / -å·¦ */
  --avatar-offset-y: 0px;   /* +ä¸‹ / -ä¸Š */
  --ring-inset: 14px;       /* æ—§ inset:-14px ç›¸å½“ã®â€œä½™ç™½â€ */
}

/* ãƒªãƒ³ã‚°æœ¬ä½“ï¼ˆæ—§ res-ring ã‚’ç¶­æŒï¼‰ */
.res-ring{
  position: absolute;
  left: 50%;
  top: 50%;

  /* âœ… é¡”ç”»åƒã¨åŒã˜ä¸­å¿ƒæƒãˆ */
  transform: translate(calc(-50% + var(--avatar-offset-x)),
                       calc(-50% + var(--avatar-offset-y))) translateZ(0);

  /* âœ… ã‚µã‚¤ã‚ºã¯ã€Œè¦ª(ã‚¢ã‚¤ã‚³ãƒ³æ )ã€ã«è¿½å¾“ã•ã›ã‚‹ï¼šæ ã‚ˆã‚Šå°‘ã—å¤§ãã */
  width: calc(100% + (var(--ring-inset) * 2));
  height: calc(100% + (var(--ring-inset) * 2));

  border-radius: 999px;
  pointer-events: none;
  will-change: transform, filter, box-shadow;
}

/* æ—§ã®è¦‹ãŸç›®ï¼ˆå›è»¢ï¼‹åˆæˆï¼‰ */
.res-ring::before{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: inherit;

  background: conic-gradient(from 0deg, var(--res-color), #ffffff, var(--res-color));
  opacity: .85;
  mix-blend-mode: screen;
  animation: ringRotate 6s linear infinite;
  transition: filter .25s ease, opacity .25s ease;
}

.res-ring::after{
  content:"";
  position:absolute;
  inset: 4px;
  border-radius: inherit;
  background: radial-gradient(circle at 50% 40%, rgba(0,0,0,0), rgba(0,0,0,.45));
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: inset 0 0 20px rgba(0,0,0,.3);
}

/* hit pulse */
.res-ring.absorbPulse::before{
  filter: brightness(1.5) blur(2px);
  opacity: 1;
}
.res-ring.absorbPulse{
  animation: ringPulse .6s ease-out;
}

@keyframes ringPulse{
  0%{ transform: translate(calc(-50% + var(--avatar-offset-x)),
                           calc(-50% + var(--avatar-offset-y))) scale(1) translateZ(0); }
  40%{ transform: translate(calc(-50% + var(--avatar-offset-x)),
                            calc(-50% + var(--avatar-offset-y))) scale(1.12) translateZ(0); }
  100%{ transform: translate(calc(-50% + var(--avatar-offset-x)),
                             calc(-50% + var(--avatar-offset-y))) scale(1) translateZ(0); }
}

@keyframes ringRotate{
  from{ transform: rotate(0deg) translateZ(0); }
  to  { transform: rotate(360deg) translateZ(0); }
}
