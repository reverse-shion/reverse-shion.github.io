<!DOCTYPE html>
<html lang="ja">
<head>
  <!-- ===== 基本情報 ===== -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Re:Verse Shion — 占い × 思想</title>
  <meta name="description" content="Re:Verse Shion（詩韻）— 占い × 思想。タロットとことばで、恋・仕事・運命の“今”を照らす。無料体験から個人鑑定・講座まで。">

  <!-- Canonical / Robots -->
  <link rel="canonical" href="https://reverse-shion.github.io/">
  <meta name="robots" content="index,follow">

  <!-- Icons / PWA -->
  <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="/assets/favicon.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/icon-192.png">
  <link rel="manifest" href="/manifest.webmanifest">

  <meta name="theme-color" content="#fdfcf8">
  <meta name="color-scheme" content="light">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Noto+Serif+JP:wght@500;700&family=Shippori+Mincho:wght@600&display=swap" rel="stylesheet">

  <!-- OGP -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Re:Verse Shion">
  <meta property="og:description" content="言葉が魂を救う。詩韻思想 × タロット占い">
  <meta property="og:url" content="https://reverse-shion.github.io/">
  <meta property="og:image" content="https://reverse-shion.github.io/assets/ogp.jpg">

  <style>
    /* ================================
       RESET
    ================================= */
    *,*::before,*::after {
      margin:0;
      padding:0;
      box-sizing:border-box;
    }
    html, body {
      height:100%;
    }
    body {
      background:#fdfcf8;
      font-family:"Noto Serif JP", serif;
      overflow-x:hidden;
      color:#2b2420;
    }

    a { color:#8b6b3c; }

    /* ================================
       背景コード雨（トップ／回廊と同期色）
    ================================= */
    #codeRain {
      position:fixed;
      inset:0;
      z-index:1;
    }

    /* ================================
       星祈ゲート（画面中央の入口ボタン）
    ================================= */
    .shion-corridor-btn {
      --gold-core: rgba(255,226,160,1);
      --gold-glow: rgba(255,210,130,0.85);
      --gold-soft: rgba(255,235,190,0.70);
      --white-glow: rgba(255,255,255,0.75);

      position: fixed;
      top: 52%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 7000;

      width: 260px;
      height: 85px;
      border-radius: 50px;

      display: flex;
      justify-content: center;
      align-items: center;

      text-decoration: none;
      color: #fff8e1;
      font-family: "Shippori Mincho", serif;
      font-size: 15px;
      letter-spacing: 0.24em;
      font-weight: 600;

      background:
        radial-gradient(circle at 50% 50%, rgba(255,240,210,1), rgba(160,120,60,0.45) 80%),
        linear-gradient(135deg, rgba(255,250,230,1), rgba(255,210,110,0.85));

      box-shadow:
        0 0 20px var(--gold-soft),
        0 0 40px var(--gold-glow),
        0 0 100px var(--white-glow);

      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      overflow:hidden;
      cursor:pointer;

      opacity:0;
      animation: gateAppear 1.6s ease forwards 1.0s,
                 goldPulse 4.2s ease-in-out infinite;
      transition: opacity 0.4s ease;
    }

    @keyframes gateAppear {
      0% {
        opacity:0;
        transform:translate(-50%,-40%) scale(0.85);
      }
      100% {
        opacity:0.95;
        transform:translate(-50%,-50%) scale(1);
      }
    }

    @keyframes goldPulse {
      0%   { opacity:0.85; transform:translate(-50%,-50%) scale(1); }
      50%  { opacity:1;    transform:translate(-50%,-50%) scale(1.06); }
      100% { opacity:0.85; transform:translate(-50%,-50%) scale(1); }
    }

    /* 星粒子レイヤー（内側を流れる光） */
    .shion-corridor-btn .stars {
      position:absolute;
      inset:0;
      border-radius:inherit;

      background-image:
        radial-gradient(circle, rgba(255,255,255,0.9) 0, transparent 60%),
        radial-gradient(circle, rgba(255,222,150,0.8) 0, transparent 65%);
      background-size:12px 12px, 6px 6px;
      background-repeat:repeat;

      mix-blend-mode:screen;
      opacity:0.4;
      animation: starFlow 9s linear infinite;
    }

    @keyframes starFlow {
      from { transform:translateY(20%) translateX(-20%); }
      to   { transform:translateY(-20%) translateX(20%); }
    }

    @media (max-width:768px){
      .shion-corridor-btn {
        width:220px;
        height:70px;
        font-size:13px;
        letter-spacing:0.20em;
        top:56%;
      }
    }

    /* ================================
       ワープ用・白い閃光オーバーレイ
    ================================= */
    .warp-flash {
      position:fixed;
      inset:0;
      z-index:8000;
      background:
        radial-gradient(circle at 50% 50%,
          rgba(255,255,255,1) 0%,
          rgba(255,255,255,1) 45%,
          rgba(255,244,220,1) 75%,
          rgba(253,252,248,0.9) 100%);
      opacity:0;
      pointer-events:none;
      animation: warpFlash 0.45s ease-out forwards;
    }

    @keyframes warpFlash {
      0%   { opacity:0;   transform:scale(0.9); }
      40%  { opacity:1;   transform:scale(1); }
      100% { opacity:1;   transform:scale(1.05); }
    }

    /* ================================
       メインコンテンツ
       （回廊を通ったあとに読む領域）
    ================================= */
    main {
      position:relative;
      z-index:200;
      padding: 120vh 16px 40px;
    }

    .content {
      max-width:880px;
      margin:0 auto;
      background:rgba(253,252,248,0.94);
      border-radius:16px;
      box-shadow:0 18px 40px rgba(0,0,0,0.08);
      padding:32px 20px 36px;
      backdrop-filter:blur(8px);
      -webkit-backdrop-filter:blur(8px);
    }

    .content h1 {
      font-family:"Cinzel","Shippori Mincho",serif;
      font-size:26px;
      letter-spacing:0.18em;
      text-align:center;
      margin-bottom:18px;
    }

    .content p {
      line-height:1.9;
      font-size:15px;
      margin-bottom:12px;
    }

    .content-links {
      margin-top:18px;
      padding-top:12px;
      border-top:1px solid rgba(120,100,70,0.25);
    }

    .content-links p {
      margin-bottom:6px;
    }

    /* スマホ調整 */
    @media (max-width: 600px) {
      .content {
        padding:24px 16px 28px;
      }
      .content h1 {
        font-size:20px;
        letter-spacing:0.14em;
      }
      .content p {
        font-size:14px;
      }
    }
  </style>
</head>
<body>

  <!-- ===== 背景コード雨 ===== -->
  <canvas id="codeRain" aria-hidden="true"></canvas>

  <!-- ===== 星祈の回廊：中央ゲート ===== -->
  <a href="https://reverse-shion.github.io/seiki-corridor.html"
     class="shion-corridor-btn"
     id="entry-corridor">
    星祈の回廊へ
    <div class="stars"></div>
  </a>

  <!-- ===== 回廊通過後に読むゾーン ===== -->
  <main>
    <section class="content">
      <h1>RE:VERSE SHION — 星界 × 思想</h1>
      <p>
        ここは、星祈の回廊をくぐったあとに辿り着く「地上のホール」です。<br>
        無料占い・詩韻思想・個人鑑定など、今のあなたに必要な扉だけを選んでください。
      </p>
      <div class="content-links">
        <p><a href="/shion2.html">★ 無料占い「星界リーディング」を試す</a></p>
        <p><a href="/ncode-field.html">★ 詩韻思想のガイドページへ進む</a></p>
        <p><a href="https://reverse-shion.github.io/seiki-corridor.html">★ 星祈の回廊に戻る</a></p>
        <p><a href="https://lin.ee/LYnlU0f" target="_blank" rel="noopener">★ 個人鑑定・相談（公式LINE）</a></p>
      </div>
    </section>
  </main>

  <!-- ================================
       JS：コード雨 ＋ ゲート演出
  ================================= -->
  <script>
    // --- コード雨（金色・ゆっくり同期演出) ---
    (function(){
      const canvas = document.getElementById('codeRain');
      const ctx = canvas.getContext('2d');
      const chars = '詩韻星界祈言霊∞01AI理∴◯＊';
      const charList = chars.split('');

      let width, height, fontSize, columns, drops;

      function resize(){
        const dpr = Math.min(2, window.devicePixelRatio || 1);
        width  = canvas.width  = window.innerWidth  * dpr;
        height = canvas.height = window.innerHeight * dpr;
        ctx.setTransform(dpr,0,0,dpr,0,0);

        fontSize = 16;
        columns  = Math.floor(window.innerWidth / fontSize);
        drops    = new Array(columns).fill(0).map(()=>Math.random()*-20);
      }

      function draw(){
        ctx.fillStyle = 'rgba(253,252,248,0.14)';
        ctx.fillRect(0,0,window.innerWidth,window.innerHeight);

        ctx.font = fontSize + 'px "Noto Serif JP"';

        for(let i=0;i<columns;i++){
          const text = charList[Math.floor(Math.random()*charList.length)];
          const x = i * fontSize;
          const y = drops[i] * fontSize;

          const grad = ctx.createLinearGradient(x,y-fontSize,x,y+fontSize);
          grad.addColorStop(0,'rgba(255,255,255,0.95)');
          grad.addColorStop(0.5,'rgba(255,231,170,0.96)');
          grad.addColorStop(1,'rgba(208,168,64,0.99)');

          ctx.fillStyle = grad;
          ctx.fillText(text,x,y);

          drops[i] += 0.4 + Math.random()*0.2;
          if(y > window.innerHeight + fontSize*2){
            drops[i] = Math.random() * -20;
          }
        }
        requestAnimationFrame(draw);
      }

      window.addEventListener('resize', resize, {passive:true});
      resize();
      draw();
    })();

    // --- 星祈ゲート：白い閃光ワープ＋スクロールでフェードアウト ---
    (function(){
      const gate = document.getElementById('entry-corridor');
      if(!gate) return;

      // クリックで白い閃光ワープ
      gate.addEventListener('click', function(e){
        e.preventDefault();
        const href = this.getAttribute('href');

        // 白い閃光オーバーレイ生成
        const flash = document.createElement('div');
        flash.className = 'warp-flash';
        document.body.appendChild(flash);

        // 少し待ってから遷移（真っ白時間は短く）
        setTimeout(()=> {
          window.location.href = href;
        }, 420);
      });

      // スクロールでゲートがゆっくり消える
      function onScroll(){
        const max = window.innerHeight * 0.5;  // フェードアウトし始める長さ
        const y   = window.scrollY || window.pageYOffset;
        const t   = Math.min(1, y / max);
        const baseOpacity = 0.95;
        const nextOpacity = baseOpacity * (1 - t);

        gate.style.opacity = String(nextOpacity);

        // ほぼ消えたらクリック無効
        if(nextOpacity < 0.12){
          gate.style.pointerEvents = 'none';
        } else {
          gate.style.pointerEvents = 'auto';
        }
      }

      window.addEventListener('scroll', onScroll, {passive:true});
    })();
  </script>

</body>
</html>
