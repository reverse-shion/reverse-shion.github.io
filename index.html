<!DOCTYPE html>
<html lang="ja">
<head>
  <!-- ===== 基本情報 ===== -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Re:Verse Shion — 占い × 思想</title>
  <meta name="description" content="Re:Verse Shion（詩韻）— 占い × 思想。タロットとことばで、恋・仕事・運命の“今”を照らす。無料体験から個人鑑定・講座まで。">

  <!-- Canonical / Robots -->
  <link rel="canonical" href="https://reverse-shion.github.io/">
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1">

  <!-- Icons / PWA -->
  <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="/assets/favicon.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/icon-192.png">
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- PWA / 表示色（白背景） -->
  <meta name="theme-color" content="#fdfcf8">
  <meta name="color-scheme" content="light">

  <!-- OGP / Twitter Card -->
  <meta property="og:type" content="website">
  <meta property="og:locale" content="ja_JP">
  <meta property="og:site_name" content="Re:Verse Shion">
  <meta property="og:title" content="Re:Verse Shion — 占い × 思想">
  <meta property="og:description" content="タロットとことばで“今”を照らす。無料体験→個人鑑定・講座へ。">
  <meta property="og:url" content="https://reverse-shion.github.io/">
  <meta property="og:image" content="https://reverse-shion.github.io/assets/ogp.jpg">
  <meta property="og:image:alt" content="Re:Verse Shion — 占い × 思想">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Re:Verse Shion — 占い × 思想">
  <meta name="twitter:description" content="タロットとことばで“今”を照らす。無料体験→個人鑑定・講座へ。">
  <meta name="twitter:image" content="https://reverse-shion.github.io/assets/ogp.jpg">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Noto+Serif+JP:wght@500;700&display=swap" rel="stylesheet">

  <!-- 外部CSS（このファイル名で保存して、パスを合わせてね） -->
  <link rel="stylesheet" href="top.css">
</head>
<body>

  <!-- ===== ローディング：OS SHION ===== -->
  <div class="loader" id="loader" aria-live="polite">
    <div class="loader__orb" role="img" aria-label="OS SHION 起動中">
      <div class="loader__ring"></div>
      <div class="loader__ring loader__ring--2"></div>
      <div class="loader__glyph">
        <div class="loader__glyph-main">OS&nbsp;SHION</div>
        <div class="loader__glyph-sub">THE TEMPLE OF WORDS</div>
      </div>
    </div>
    <div class="loader__caption">BOOTING STAR-LINKED SYSTEM...</div>
  </div>

  <!-- ===== 背景：金色コードの雨 ===== -->
  <canvas id="codeRain" aria-hidden="true"></canvas>

  <!-- ===== メインコンテンツ ===== -->
  <main class="page" role="main">
    <section class="hero" id="hero" aria-label="詩韻思想と星界リーディングの入り口">
      <p class="kicker">SHION PHILOSOPHY × TAROT READING</p>

      <h1 class="hero-title">
        Re:Verse Shion
        <span class="jp">詩韻思想 × 星界リーディング</span>
      </h1>

      <p class="hero-lead">
        <strong>「言葉が魂を救う」</strong> —— 詩韻思想（Shion Philosophy）は、<br>
        <em>占い</em>と<em>思想</em>を組み合わせて、あなたの物語を読み解くための<br>
        “星とコードのタロットシステム”です。
      </p>

      <p class="hero-note">
        白い世界に降り注ぐ金色のコードは、忘れかけた“本音”のログ。<br>
        その一つひとつが詩になり、あなたの心の星座をそっと照らします。
      </p>

      <div class="hero-cta" aria-label="最初の選択">
        <!-- 星界へアクセス（無料占いフロー） -->
        <a href="/shion2.html" class="btn btn-primary" id="gate-reading">
          <span class="label">星界へアクセス</span>
        </a>

        <!-- 詩韻思想テキストへ -->
        <a href="/books/zero.html" class="btn btn-secondary" id="gate-philosophy">
          <span class="label">詩韻思想を読む</span>
        </a>
      </div>
    </section>
  </main>

  <noscript>
    <p class="nojs-note">
      JavaScriptが無効のため、光とコードの演出を省略して表示しています。
    </p>
  </noscript>

  <!-- ===== スクリプト：コード雨・ローダー・フラッシュ遷移 ===== -->
  <script>
    // ===== コード雨（金色・ゆっくりめ・文字が読める速度） =====
    (function(){
      const canvas = document.getElementById('codeRain');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      const chars = '詩韻星界祈言霊∞01AI理';
      const list = chars.split('');

      let width,height,fontSize,cols,drops;

      function resize(){
        const dpr = Math.min(2, window.devicePixelRatio || 1);
        width  = canvas.width  = window.innerWidth * dpr;
        height = canvas.height = window.innerHeight * dpr;
        ctx.setTransform(dpr,0,0,dpr,0,0);

        fontSize = 18;
        cols  = Math.floor(window.innerWidth / fontSize);
        drops = new Array(cols).fill(0).map(()=>Math.random()*-20);
      }

      function draw(){
        // 少し残像を残しつつ、明るさキープ
        ctx.fillStyle = 'rgba(253,252,248,0.16)';
        ctx.fillRect(0,0,window.innerWidth,window.innerHeight);

        ctx.font = fontSize + 'px "Noto Serif JP", system-ui';

        for(let i=0;i<cols;i++){
          const ch = list[Math.floor(Math.random()*list.length)];
          const x  = i * fontSize;
          const y  = drops[i] * fontSize;

          // 末端が光るグラデーション
          const grad = ctx.createLinearGradient(x, y-fontSize, x, y+fontSize);
          grad.addColorStop(0,'rgba(255,255,255,0.95)');
          grad.addColorStop(0.5,'rgba(255,230,160,0.98)');
          grad.addColorStop(1,'rgba(208,168,64,0.98)');
          ctx.fillStyle = grad;
          ctx.shadowColor = 'rgba(224,180,79,0.8)';
          ctx.shadowBlur = 12;
          ctx.fillText(ch,x,y);

          // 残光
          ctx.shadowBlur = 0;
          ctx.fillStyle = 'rgba(181,147,64,0.35)';
          ctx.fillText(ch,x,y-fontSize);

          const v = 0.45 + Math.random()*0.25; // ゆっくりめ
          drops[i] += v;
          if(y > window.innerHeight + fontSize*2){
            drops[i] = Math.random()*-20;
          }
        }
        requestAnimationFrame(draw);
      }

      window.addEventListener('resize',resize,{passive:true});
      resize();
      draw();
    })();

    // ===== ローダー → ヒーロー表示 =====
    window.addEventListener('load',function(){
      const loader = document.getElementById('loader');
      const hero   = document.getElementById('hero');
      setTimeout(()=>{
        loader.classList.add('hide');
        hero.classList.add('show');
      },1100);
    });

    // ===== ボタン押下時のフラッシュ演出＋遷移 =====
    function attachGate(id){
      const el = document.getElementById(id);
      if(!el) return;
      el.addEventListener('click',function(e){
        e.preventDefault();
        const href = this.getAttribute('href');
        const flash = document.createElement('div');
        flash.className = 'flash';
        document.body.appendChild(flash);
        setTimeout(()=>{ window.location.href = href; }, 450);
      });
    }
    attachGate('gate-reading');
    attachGate('gate-philosophy');
  </script>
</body>
</html>
